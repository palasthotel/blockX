!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=136)}([function(e,t){e.exports=window.wp.element},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=n=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),n(t)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=window.wp.components},function(e,t){e.exports=window.React},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(58),o=n(59),c=n(37),i=n(60);e.exports=function(e,t){return r(e)||o(e,t)||c(e,t)||i()},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=window.wp.data},function(e,t){e.exports=window.regeneratorRuntime},function(e,t,n){var r=n(41),o="object"==typeof self&&self&&self.Object===Object&&self,c=r||o||Function("return this")();e.exports=c},function(e,t){e.exports=window.wp.apiFetch},function(e,t,n){var r=n(61),o=n(62),c=n(37),i=n(63);e.exports=function(e){return r(e)||o(e)||c(e)||i()},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(76),o=n(82);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t){e.exports=window.wp.blockEditor},function(e,t){function n(e,t,n,r,o,c,i){try{var u=e[c](i),a=u.value}catch(e){return void n(e)}u.done?t(a):Promise.resolve(a).then(r,o)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(o,c){var i=e.apply(t,r);function u(e){n(i,o,c,u,a,"next",e)}function a(e){n(i,o,c,u,a,"throw",e)}u(void 0)}))}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=window.wp.i18n},function(e,t,n){var r=n(66),o=n(67),c=n(68),i=n(69),u=n(70);function a(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}a.prototype.clear=r,a.prototype.delete=o,a.prototype.get=c,a.prototype.has=i,a.prototype.set=u,e.exports=a},function(e,t,n){var r=n(39);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(25),o=n(78),c=n(79),i=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?o(e):c(e)}},function(e,t,n){var r=n(11)(Object,"create");e.exports=r},function(e,t,n){var r=n(92);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){var r=n(43),o=n(44);e.exports=function(e,t,n,c){var i=!n;n||(n={});for(var u=-1,a=t.length;++u<a;){var s=t[u],l=c?c(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),i?o(n,s,l):r(n,s,l)}return n}},function(e,t,n){"use strict";n.r(t),n.d(t,"STORE_NAME",(function(){return C}));var r=n(1),o=n.n(r),c=n(4),i=n.n(c),u=n(7),a=n.n(u),s=n(9),l=n.n(s),f=n(6);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(){return JSON.parse(localStorage.getItem("blockx-ssr-cache-timestamps")||"{}")},v=function(e){return localStorage.setItem("blockx-ssr-cache-timestamps",JSON.stringify(e))},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,n=d(),r=Date.now();for(var o in e)n[o]=r+1e3*t;v(n),localStorage.setItem("blockx-ssr-cache",JSON.stringify(e))},h=function(){return JSON.parse(localStorage.getItem("blockx-ssr-cache")||"{}")},m=d(),O=Date.now();for(var g in m)m[g]<O&&delete m[g],v(m);var j=Object.keys(m),x=h();for(var w in x)j.includes(w)||delete x[w];y(x);var _=function(e,t){return btoa("".concat(e,"-").concat(unescape(encodeURIComponent(JSON.stringify(t)))))},E={isRequesting:!1,blocks:h(),queue:{}},S=function(e,t){return{type:"SSR_FETCH",path:"/blockx/v1/ssr",data:{post_id:e,blocks:t}}},k=function(e){return{type:"SET_IS_REQUESTING",isRequesting:e}},P={addToQueue:function(e,t){var n={id:e,attributes:t};return function(e,t){return{type:"ADD_TO_QUEUE",hash:e,block:t}}(_(e,t),n)},fetchSSR:a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(f.select)(C).getQueueMap(),!(Object.keys(n).length<1)){e.next=3;break}return e.abrupt("return",{type:"none"});case 3:return e.next=5,k(!0);case 5:return e.next=7,S(t,n);case 7:return r=e.sent,e.next=10,{type:"SET_BLOCKS",blocks:r};case 10:return e.next=12,{type:"REMOVE_FROM_QUEUE",hashes:Object.keys(n)};case 12:return e.abrupt("return",k(!1));case 13:case"end":return e.stop()}}),e)}))},C="block-x",A=Object(f.createReduxStore)(C,{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_IS_REQUESTING":return b(b({},e),{},{isRequesting:t.isRequesting});case"SET_BLOCKS":var n=b(b({},e.blocks),t.blocks);return y(n),b(b({},e),{},{blocks:n});case"ADD_TO_QUEUE":return b(b({},e),{},{queue:b(b({},e.queue),{},i()({},t.hash,t.block))});case"REMOVE_FROM_QUEUE":return b(b({},e),{},{queue:Object.keys(e.queue).filter((function(e){return!t.hashes.includes(e)})).map((function(t){return e.queue[t]}))})}return e},actions:P,selectors:{isRequesting:function(e,t,n){return"undefined"===o()(t)||"undefined"===o()(n)?e.isRequesting:e.isRequesting&&"undefined"!==o()(e.queue[_(t,n)])},isInQueue:function(e,t,n){return"undefined"!==o()(e.queue[_(t,n)])},getQueueMap:function(e){return e.queue},getQueue:function(e){return Object.values(e.queue)},getBlocks:function(e){return e.blocks},getBlock:function(e,t,n){return e.blocks[_(t,n)]}},controls:{SSR_FETCH:function(e){return l()({path:e.path,data:e.data,method:"POST"})}}});Object(f.register)(A)},function(e,t,n){var r=n(11)(n(8),"Map");e.exports=r},function(e,t,n){var r=n(8).Symbol;e.exports=r},function(e,t,n){var r=n(45),o=n(106),c=n(49);e.exports=function(e){return c(e)?r(e):o(e)}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(41),o=t&&!t.nodeType&&t,c=o&&"object"==typeof e&&e&&!e.nodeType&&e,i=c&&c.exports===o&&r.process,u=function(){try{return c&&c.require&&c.require("util").types||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=u}).call(this,n(28)(e))},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(45),o=n(109),c=n(49);e.exports=function(e){return c(e)?r(e,!0):o(e)}},function(e,t,n){var r=n(114),o=n(50),c=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,u=i?function(e){return null==e?[]:(e=Object(e),r(i(e),(function(t){return c.call(e,t)})))}:o;e.exports=u},function(e,t,n){var r=n(118),o=n(24),c=n(119),i=n(120),u=n(121),a=n(19),s=n(42),l=s(r),f=s(o),p=s(c),b=s(i),d=s(u),v=a;(r&&"[object DataView]"!=v(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=v(new o)||c&&"[object Promise]"!=v(c.resolve())||i&&"[object Set]"!=v(new i)||u&&"[object WeakMap]"!=v(new u))&&(v=function(e){var t=a(e),n="[object Object]"==t?e.constructor:void 0,r=n?s(n):"";if(r)switch(r){case l:return"[object DataView]";case f:return"[object Map]";case p:return"[object Promise]";case b:return"[object Set]";case d:return"[object WeakMap]"}return t}),e.exports=v},function(e,t,n){var r=n(124);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t,n){"use strict";n.r(t),n.d(t,"getBlockContext",(function(){return i}));var r=n(1),o=n.n(r),c={},i=function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"undefined"===o()(c[e])&&(c[e]=React.createContext(t)),c[e]}("block")}},function(e,t,n){var r=n(38);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(19),o=n(12);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(77))},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,n){var r=n(44),o=n(39),c=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var i=e[t];c.call(e,t)&&o(i,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){var r=n(97);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){var r=n(99),o=n(100),c=n(27),i=n(46),u=n(103),a=n(104),s=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=c(e),l=!n&&o(e),f=!n&&!l&&i(e),p=!n&&!l&&!f&&a(e),b=n||l||f||p,d=b?r(e.length,String):[],v=d.length;for(var y in e)!t&&!s.call(e,y)||b&&("length"==y||f&&("offset"==y||"parent"==y)||p&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||u(y,v))||d.push(y);return d}},function(e,t,n){(function(e){var r=n(8),o=n(102),c=t&&!t.nodeType&&t,i=c&&"object"==typeof e&&e&&!e.nodeType&&e,u=i&&i.exports===c?r.Buffer:void 0,a=(u?u.isBuffer:void 0)||o;e.exports=a}).call(this,n(28)(e))},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(40),o=n(47);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(52),o=n(53),c=n(33),i=n(50),u=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,c(e)),e=o(e);return t}:i;e.exports=u},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},function(e,t,n){var r=n(48)(Object.getPrototypeOf,Object);e.exports=r},function(e,t,n){var r=n(52),o=n(27);e.exports=function(e,t,n){var c=t(e);return o(e)?c:r(c,n(e))}},function(e,t){e.exports=window.wp.blocks},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,n.apply(this,arguments)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(64);e.exports=function(e){return r(e,5)}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,o,c=[],_n=!0,i=!1;try{for(n=n.call(e);!(_n=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);_n=!0);}catch(e){i=!0,o=e}finally{try{_n||null==n.return||n.return()}finally{if(i)throw o}}return c}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(38);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(65),o=n(96),c=n(43),i=n(98),u=n(108),a=n(111),s=n(112),l=n(113),f=n(115),p=n(116),b=n(117),d=n(34),v=n(122),y=n(123),h=n(129),m=n(27),O=n(46),g=n(131),j=n(12),x=n(133),w=n(26),_=n(32),E={};E["[object Arguments]"]=E["[object Array]"]=E["[object ArrayBuffer]"]=E["[object DataView]"]=E["[object Boolean]"]=E["[object Date]"]=E["[object Float32Array]"]=E["[object Float64Array]"]=E["[object Int8Array]"]=E["[object Int16Array]"]=E["[object Int32Array]"]=E["[object Map]"]=E["[object Number]"]=E["[object Object]"]=E["[object RegExp]"]=E["[object Set]"]=E["[object String]"]=E["[object Symbol]"]=E["[object Uint8Array]"]=E["[object Uint8ClampedArray]"]=E["[object Uint16Array]"]=E["[object Uint32Array]"]=!0,E["[object Error]"]=E["[object Function]"]=E["[object WeakMap]"]=!1,e.exports=function e(t,n,S,k,P,C){var A,D=1&n,I=2&n,T=4&n;if(S&&(A=P?S(t,k,P,C):S(t)),void 0!==A)return A;if(!j(t))return t;var R=m(t);if(R){if(A=v(t),!D)return s(t,A)}else{var M=d(t),N="[object Function]"==M||"[object GeneratorFunction]"==M;if(O(t))return a(t,D);if("[object Object]"==M||"[object Arguments]"==M||N&&!P){if(A=I||N?{}:h(t),!D)return I?f(t,u(A,t)):l(t,i(A,t))}else{if(!E[M])return P?t:{};A=y(t,M,D)}}C||(C=new r);var B=C.get(t);if(B)return B;C.set(t,A),x(t)?t.forEach((function(r){A.add(e(r,n,S,r,t,C))})):g(t)&&t.forEach((function(r,o){A.set(o,e(r,n,S,o,t,C))}));var U=R?void 0:(T?I?b:p:I?_:w)(t);return o(U||t,(function(r,o){U&&(r=t[o=r]),c(A,o,e(r,n,S,o,t,C))})),A}},function(e,t,n){var r=n(17),o=n(71),c=n(72),i=n(73),u=n(74),a=n(75);function s(e){var t=this.__data__=new r(e);this.size=t.size}s.prototype.clear=o,s.prototype.delete=c,s.prototype.get=i,s.prototype.has=u,s.prototype.set=a,e.exports=s},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(18),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():o.call(t,n,1),--this.size,0))}},function(e,t,n){var r=n(18);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(18);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(18);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},function(e,t,n){var r=n(17);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(17),o=n(24),c=n(83);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var i=n.__data__;if(!o||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new c(i)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var r=n(40),o=n(80),c=n(12),i=n(42),u=/^\[object .+?Constructor\]$/,a=Function.prototype,s=Object.prototype,l=a.toString,f=s.hasOwnProperty,p=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!c(e)||o(e))&&(r(e)?p:u).test(i(e))}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(25),o=Object.prototype,c=o.hasOwnProperty,i=o.toString,u=r?r.toStringTag:void 0;e.exports=function(e){var t=c.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(e){}var o=i.call(e);return r&&(t?e[u]=n:delete e[u]),o}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r,o=n(81),c=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!c&&c in e}},function(e,t,n){var r=n(8)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(84),o=n(91),c=n(93),i=n(94),u=n(95);function a(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}a.prototype.clear=r,a.prototype.delete=o,a.prototype.get=c,a.prototype.has=i,a.prototype.set=u,e.exports=a},function(e,t,n){var r=n(85),o=n(17),c=n(24);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(c||o),string:new r}}},function(e,t,n){var r=n(86),o=n(87),c=n(88),i=n(89),u=n(90);function a(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}a.prototype.clear=r,a.prototype.delete=o,a.prototype.get=c,a.prototype.has=i,a.prototype.set=u,e.exports=a},function(e,t,n){var r=n(20);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(20),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(20),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},function(e,t,n){var r=n(20);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,n){var r=n(21);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(21);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(21);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(21);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){var r=n(11),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},function(e,t,n){var r=n(22),o=n(26);e.exports=function(e,t){return e&&r(t,o(t),e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(101),o=n(13),c=Object.prototype,i=c.hasOwnProperty,u=c.propertyIsEnumerable,a=r(function(){return arguments}())?r:function(e){return o(e)&&i.call(e,"callee")&&!u.call(e,"callee")};e.exports=a},function(e,t,n){var r=n(19),o=n(13);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},function(e,t){e.exports=function(){return!1}},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var r=n(105),o=n(29),c=n(30),i=c&&c.isTypedArray,u=i?o(i):r;e.exports=u},function(e,t,n){var r=n(19),o=n(47),c=n(13),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,e.exports=function(e){return c(e)&&o(e.length)&&!!i[r(e)]}},function(e,t,n){var r=n(31),o=n(107),c=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))c.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){var r=n(48)(Object.keys,Object);e.exports=r},function(e,t,n){var r=n(22),o=n(32);e.exports=function(e,t){return e&&r(t,o(t),e)}},function(e,t,n){var r=n(12),o=n(31),c=n(110),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return c(e);var t=o(e),n=[];for(var u in e)("constructor"!=u||!t&&i.call(e,u))&&n.push(u);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){(function(e){var r=n(8),o=t&&!t.nodeType&&t,c=o&&"object"==typeof e&&e&&!e.nodeType&&e,i=c&&c.exports===o?r.Buffer:void 0,u=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=u?u(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(28)(e))},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t,n){var r=n(22),o=n(33);e.exports=function(e,t){return r(e,o(e),t)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,c=[];++n<r;){var i=e[n];t(i,n,e)&&(c[o++]=i)}return c}},function(e,t,n){var r=n(22),o=n(51);e.exports=function(e,t){return r(e,o(e),t)}},function(e,t,n){var r=n(54),o=n(33),c=n(26);e.exports=function(e){return r(e,c,o)}},function(e,t,n){var r=n(54),o=n(51),c=n(32);e.exports=function(e){return r(e,c,o)}},function(e,t,n){var r=n(11)(n(8),"DataView");e.exports=r},function(e,t,n){var r=n(11)(n(8),"Promise");e.exports=r},function(e,t,n){var r=n(11)(n(8),"Set");e.exports=r},function(e,t,n){var r=n(11)(n(8),"WeakMap");e.exports=r},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},function(e,t,n){var r=n(35),o=n(125),c=n(126),i=n(127),u=n(128);e.exports=function(e,t,n){var a=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new a(+e);case"[object DataView]":return o(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return u(e,n);case"[object Map]":return new a;case"[object Number]":case"[object String]":return new a(e);case"[object RegExp]":return c(e);case"[object Set]":return new a;case"[object Symbol]":return i(e)}}},function(e,t,n){var r=n(8).Uint8Array;e.exports=r},function(e,t,n){var r=n(35);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,n){var r=n(25),o=r?r.prototype:void 0,c=o?o.valueOf:void 0;e.exports=function(e){return c?Object(c.call(e)):{}}},function(e,t,n){var r=n(35);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var r=n(130),o=n(53),c=n(31);e.exports=function(e){return"function"!=typeof e.constructor||c(e)?{}:r(o(e))}},function(e,t,n){var r=n(12),o=Object.create,c=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=c},function(e,t,n){var r=n(132),o=n(29),c=n(30),i=c&&c.isMap,u=i?o(i):r;e.exports=u},function(e,t,n){var r=n(34),o=n(13);e.exports=function(e){return o(e)&&"[object Map]"==r(e)}},function(e,t,n){var r=n(134),o=n(29),c=n(30),i=c&&c.isSet,u=i?o(i):r;e.exports=u},function(e,t,n){var r=n(34),o=n(13);e.exports=function(e){return o(e)&&"[object Set]"==r(e)}},function(e,t,n){var r=n(6),o=r.select,c=r.dispatch,i=n(23).STORE_NAME;setInterval((function(){var e=o(i);e.isRequesting()||e.getQueue().length<1||c(i).fetchSSR(o("core/editor").getCurrentPostId())}),300)},function(e,t,n){"use strict";n.r(t);var r=n(4),o=n.n(r),c=n(9),i=n.n(c),u=n(1),a=n.n(u),s=n(5),l=n.n(s),f=n(0),p=n(55),b=n(14),d=n(2),v=function(e){return a()(e)===a()("")?BlockX.i18n[e]:BlockX.i18n},y=function(){return v("widget_tax_query")},h=function(){return v("widget_media")},m=n(56),O=n.n(m),g=n(15),j=n.n(g),x=n(7),w=n.n(x),_=n(3),E=Object.prototype.hasOwnProperty,S=new WeakMap,k=0,P=function(){function e(e){void 0===e&&(e={}),this.cache=new Map(Object.entries(e)),this.subs=[]}return e.prototype.get=function(e){var t=this.serializeKey(e)[0];return this.cache.get(t)},e.prototype.set=function(e,t){var n=this.serializeKey(e)[0];this.cache.set(n,t),this.notify()},e.prototype.keys=function(){return Array.from(this.cache.keys())},e.prototype.has=function(e){var t=this.serializeKey(e)[0];return this.cache.has(t)},e.prototype.clear=function(){this.cache.clear(),this.notify()},e.prototype.delete=function(e){var t=this.serializeKey(e)[0];this.cache.delete(t),this.notify()},e.prototype.serializeKey=function(e){var t=null;if("function"==typeof e)try{e=e()}catch(t){e=""}return Array.isArray(e)?(t=e,e=function(e){if(!e.length)return"";for(var t="arg",n=0;n<e.length;++n)if(null!==e[n]){var r=void 0;"object"!=typeof e[n]&&"function"!=typeof e[n]?r="string"==typeof e[n]?'"'+e[n]+'"':String(e[n]):S.has(e[n])?r=S.get(e[n]):(r=k,S.set(e[n],k++)),t+="@"+r}else t+="@null";return t}(e)):e=String(e||""),[e,t,e?"err@"+e:"",e?"validating@"+e:""]},e.prototype.subscribe=function(e){var t=this;if("function"!=typeof e)throw new Error("Expected the listener to be a function.");var n=!0;return this.subs.push(e),function(){if(n){n=!1;var r=t.subs.indexOf(e);r>-1&&(t.subs[r]=t.subs[t.subs.length-1],t.subs.length--)}}},e.prototype.notify=function(){for(var e=0,t=this.subs;e<t.length;e++)(0,t[e])()},e}(),C=!0,A={isOnline:function(){return C},isDocumentVisible:function(){return"undefined"==typeof document||void 0===document.visibilityState||"hidden"!==document.visibilityState},fetcher:function(e){return fetch(e).then((function(e){return e.json()}))},registerOnFocus:function(e){"undefined"!=typeof window&&void 0!==window.addEventListener&&"undefined"!=typeof document&&void 0!==document.addEventListener&&(document.addEventListener("visibilitychange",(function(){return e()}),!1),window.addEventListener("focus",(function(){return e()}),!1))},registerOnReconnect:function(e){"undefined"!=typeof window&&void 0!==window.addEventListener&&(window.addEventListener("online",(function(){C=!0,e()}),!1),window.addEventListener("offline",(function(){return C=!1}),!1))}},D=function(){return(D=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},I=new P,T="undefined"!=typeof window&&navigator.connection&&-1!==["slow-2g","2g"].indexOf(navigator.connection.effectiveType),R=D({onLoadingSlow:function(){},onSuccess:function(){},onError:function(){},onErrorRetry:function(e,__,t,n,r){if(t.isDocumentVisible()&&!("number"==typeof t.errorRetryCount&&r.retryCount>t.errorRetryCount)){var o=Math.min(r.retryCount,8),c=~~((Math.random()+.5)*(1<<o))*t.errorRetryInterval;setTimeout(n,c,r)}},errorRetryInterval:1e3*(T?10:5),focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:1e3*(T?5:3),refreshInterval:0,revalidateOnFocus:!0,revalidateOnReconnect:!0,refreshWhenHidden:!1,refreshWhenOffline:!1,shouldRetryOnError:!0,suspense:!1,compare:function e(t,n){var r,o;if(t===n)return!0;if(t&&n&&(r=t.constructor)===n.constructor){if(r===Date)return t.getTime()===n.getTime();if(r===RegExp)return t.toString()===n.toString();if(r===Array){if((o=t.length)===n.length)for(;o--&&e(t[o],n[o]););return-1===o}if(!r||"object"==typeof t){for(r in o=0,t){if(E.call(t,r)&&++o&&!E.call(n,r))return!1;if(!(r in n)||!e(t[r],n[r]))return!1}return Object.keys(n).length===o}}return t!=t&&n!=n},isPaused:function(){return!1}},A),M="undefined"==typeof window||!!("undefined"!=typeof Deno&&Deno&&Deno.version&&Deno.version.deno),N=M?null:window.requestAnimationFrame?function(e){return window.requestAnimationFrame(e)}:function(e){return setTimeout(e,1)},B=M?_.useEffect:_.useLayoutEffect,U=Object(_.createContext)({});U.displayName="SWRConfigContext";var F,L=U,V=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function i(e){try{a(r.next(e))}catch(e){c(e)}}function u(e){try{a(r.throw(e))}catch(e){c(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,u)}a((r=r.apply(e,t||[])).next())}))},z=function(e,t){var n,r,o,c,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function u(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},q={},Q={},W={},$={},K={},J={},X={},H=(F=0,function(){return++F});if(!M){var G=function(e){if(R.isDocumentVisible()&&R.isOnline())for(var t in e)e[t][0]&&e[t][0]()};"function"==typeof R.registerOnFocus&&R.registerOnFocus((function(){return G(W)})),"function"==typeof R.registerOnReconnect&&R.registerOnReconnect((function(){return G($)}))}var Y=function(e,t){void 0===t&&(t=!0);var n=I.serializeKey(e),r=n[0],o=n[2],c=n[3];if(!r)return Promise.resolve();var i=K[r];if(r&&i){for(var u=I.get(r),a=I.get(o),s=I.get(c),l=[],f=0;f<i.length;++f)l.push(i[f](t,u,a,s,f>0));return Promise.all(l).then((function(){return I.get(r)}))}return Promise.resolve(I.get(r))},Z=function(e,t,n,r){var o=K[e];if(e&&o)for(var c=0;c<o.length;++c)o[c](!1,t,n,r)},ee=function(e,t,n){return void 0===n&&(n=!0),V(void 0,void 0,void 0,(function(){var r,o,c,i,u,a,s,l,f,p,b,d,v;return z(this,(function(y){switch(y.label){case 0:if(r=I.serializeKey(e),o=r[0],c=r[2],!o)return[2];if(void 0===t)return[2,Y(e,n)];if(J[o]=H()-1,X[o]=0,i=J[o],u=Q[o],l=!1,t&&"function"==typeof t)try{t=t(I.get(o))}catch(e){t=void 0,s=e}if(!t||"function"!=typeof t.then)return[3,5];l=!0,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,t];case 2:return a=y.sent(),[3,4];case 3:return f=y.sent(),s=f,[3,4];case 4:return[3,6];case 5:a=t,y.label=6;case 6:if((p=function(){if(i!==J[o]||u!==Q[o]){if(s)throw s;return!0}})())return[2,a];if(void 0!==a&&I.set(o,a),I.set(c,s),X[o]=H()-1,!l&&p())return[2,a];if(b=K[o]){for(d=[],v=0;v<b.length;++v)d.push(b[v](!!n,a,s,void 0,v>0));return[2,Promise.all(d).then((function(){if(s)throw s;return I.get(o)}))]}if(s)throw s;return[2,a]}}))}))};Object.defineProperty(L.Provider,"default",{value:R}),L.Provider;var te=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[0],o=Object.assign({},R,Object(_.useContext)(L),t.length>2?t[2]:2===t.length&&"object"==typeof t[1]?t[1]:{}),c=t.length>2||2===t.length&&"function"==typeof t[1]||null===t[1]?t[1]:o.fetcher,i=I.serializeKey(r),u=i[0],a=i[1],s=i[2],l=i[3],f=Object(_.useRef)(o);B((function(){f.current=o}));var p=function(){return o.revalidateOnMount||!o.initialData&&void 0===o.revalidateOnMount},b=function(){var e=I.get(u);return void 0===e?o.initialData:e},d=function(){return!!I.get(l)||u&&p()},v=b(),y=I.get(s),h=d(),m=Object(_.useRef)({data:!1,error:!1,isValidating:!1}),O=Object(_.useRef)({data:v,error:y,isValidating:h});Object(_.useDebugValue)(O.current.data);var g,j,x=Object(_.useState)({})[1],w=Object(_.useCallback)((function(e){var t=!1;for(var n in e)O.current[n]!==e[n]&&(O.current[n]=e[n],m.current[n]&&(t=!0));if(t){if(E.current||!k.current)return;x({})}}),[]),E=Object(_.useRef)(!1),S=Object(_.useRef)(u),k=Object(_.useRef)(!1),P=Object(_.useCallback)((function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];E.current||k.current&&u===S.current&&(t=f.current)[e].apply(t,n)}),[u]),C=Object(_.useCallback)((function(e,t){return ee(S.current,e,t)}),[]),A=function(e,t){return e[u]?e[u].push(t):e[u]=[t],function(){var n=e[u],r=n.indexOf(t);r>=0&&(n[r]=n[n.length-1],n.pop())}},D=Object(_.useCallback)((function(t){return void 0===t&&(t={}),V(e,void 0,void 0,(function(){var e,n,r,i,p,b,d,v,y,h;return z(this,(function(m){switch(m.label){case 0:if(!u||!c)return[2,!1];if(E.current)return[2,!1];if(f.current.isPaused())return[2,!1];e=t.retryCount,n=void 0===e?0:e,r=t.dedupe,i=void 0!==r&&r,p=!0,b=void 0!==q[u]&&i,m.label=1;case 1:return m.trys.push([1,6,,7]),w({isValidating:!0}),I.set(l,!0),b||Z(u,O.current.data,O.current.error,!0),d=void 0,v=void 0,b?(v=Q[u],[4,q[u]]):[3,3];case 2:return d=m.sent(),[3,5];case 3:return o.loadingTimeout&&!I.get(u)&&setTimeout((function(){p&&P("onLoadingSlow",u,o)}),o.loadingTimeout),q[u]=null!==a?c.apply(void 0,a):c(u),Q[u]=v=H(),[4,q[u]];case 4:d=m.sent(),setTimeout((function(){delete q[u],delete Q[u]}),o.dedupingInterval),P("onSuccess",d,u,o),m.label=5;case 5:return Q[u]>v?[2,!1]:J[u]&&(v<=J[u]||v<=X[u]||0===X[u])?(w({isValidating:!1}),[2,!1]):(I.set(s,void 0),I.set(l,!1),y={isValidating:!1},void 0!==O.current.error&&(y.error=void 0),o.compare(O.current.data,d)||(y.data=d),o.compare(I.get(u),d)||I.set(u,d),w(y),b||Z(u,d,y.error,!1),[3,7]);case 6:return h=m.sent(),delete q[u],delete Q[u],f.current.isPaused()?(w({isValidating:!1}),[2,!1]):(I.set(s,h),O.current.error!==h&&(w({isValidating:!1,error:h}),b||Z(u,void 0,h,!1)),P("onError",h,u,o),o.shouldRetryOnError&&P("onErrorRetry",h,u,o,D,{retryCount:n+1,dedupe:!0}),[3,7]);case 7:return p=!1,[2,!0]}}))}))}),[u]);if(B((function(){if(u){E.current=!1;var e=k.current;k.current=!0;var t=O.current.data,n=b();S.current=u,o.compare(t,n)||w({data:n});var r=function(){return D({dedupe:!0})};(e||p())&&(void 0===n||M?r():N(r));var c=!1,i=A(W,(function(){!c&&f.current.revalidateOnFocus&&(c=!0,r(),setTimeout((function(){return c=!1}),f.current.focusThrottleInterval))})),a=A($,(function(){f.current.revalidateOnReconnect&&r()})),s=A(K,(function(e,t,n,c,i){void 0===e&&(e=!0),void 0===i&&(i=!0);var u={},a=!1;return void 0===t||o.compare(O.current.data,t)||(u.data=t,a=!0),O.current.error!==n&&(u.error=n,a=!0),void 0!==c&&O.current.isValidating!==c&&(u.isValidating=c,a=!0),a&&w(u),!!e&&(i?r():D())}));return function(){w=function(){return null},E.current=!0,i(),a(),s()}}}),[u,D]),B((function(){var t=null,n=function(){return V(e,void 0,void 0,(function(){return z(this,(function(e){switch(e.label){case 0:return O.current.error||!f.current.refreshWhenHidden&&!f.current.isDocumentVisible()||!f.current.refreshWhenOffline&&!f.current.isOnline()?[3,2]:[4,D({dedupe:!0})];case 1:e.sent(),e.label=2;case 2:return f.current.refreshInterval&&t&&(t=setTimeout(n,f.current.refreshInterval)),[2]}}))}))};return f.current.refreshInterval&&(t=setTimeout(n,f.current.refreshInterval)),function(){t&&(clearTimeout(t),t=null)}}),[o.refreshInterval,o.refreshWhenHidden,o.refreshWhenOffline,D]),o.suspense){if(g=I.get(u),j=I.get(s),void 0===g&&(g=v),void 0===j&&(j=y),void 0===g&&void 0===j){if(q[u]||D(),q[u]&&"function"==typeof q[u].then)throw q[u];g=q[u]}if(void 0===g&&j)throw j}var T=Object(_.useMemo)((function(){var e={revalidate:D,mutate:C};return Object.defineProperties(e,{error:{get:function(){return m.current.error=!0,o.suspense?j:S.current===u?O.current.error:y},enumerable:!0},data:{get:function(){return m.current.data=!0,o.suspense?g:S.current===u?O.current.data:v},enumerable:!0},isValidating:{get:function(){return m.current.isValidating=!0,!!u&&O.current.isValidating},enumerable:!0}}),e}),[D,v,y,C,u,o.suspense,j,g]);return T},ne=n(36),re=function(){return Object(_.useContext)(Object(ne.getBlockContext)())};function oe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ce(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ce(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,i=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){u=!0,c=e},f:function(){try{i||null==n.return||n.return()}finally{if(u)throw c}}}}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ae={},se=function(){var e=j()(w.a.mark((function e(t){var n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=ae[t],a()(n)!==a()({})||"undefined"===a()(n.post_title)){e.next=3;break}return e.abrupt("return",n);case 3:return e.next=5,i()({path:"/blockx/v1/get/"+t});case 5:return r=e.sent,a()(r)===a()({})&&r.ID&&(ae[t]=ue(ue({},ae[t]||{}),r)),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(_x){return e.apply(this,arguments)}}(),le={},fe=function(e){var t=e.ID,n=e.post_title,r=e.onClick;return Object(f.createElement)("div",{className:"blockx-post",onClick:r},n,Object(f.createElement)("br",null),Object(f.createElement)("i",{className:"description"},"ID: ",t))},pe=function(e){var t=e.label,n=e.post_types,r=e.post_status,o=e.use_context,c=e.onFound,u=Object(f.useState)(""),s=l()(u,2),p=s[0],b=s[1],v=Object(f.useState)(!1),y=l()(v,2),h=y[0],m=y[1],g=function(e,t,n,r){var o,c,u,s,p,b=re(),d=b.blockId,v=b.dirtyState,y=function(e,t,n,r){return{s:e,post_type:t.join(","),post_status:n.join(","),block_instance:r}}((o=e,600,c=Object(f.useState)(o),s=(u=l()(c,2))[0],p=u[1],Object(f.useEffect)((function(){var e=setTimeout((function(){p(o)}),600);return function(){clearTimeout(e)}}),[o,600]),s),t,n,ue({},r?{blockId:d,content:v}:{blockId:d})),h=JSON.stringify(y),m=te(h,function(e){return j()(w.a.mark((function t(){var n,r,o,c,u,s;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e.length){t.next=2;break}return t.abrupt("return",[]);case 2:if(n="/blockx/v1/query",r=JSON.stringify(e),a()(le[r])!==a()([])){t.next=6;break}return t.abrupt("return",le[r]);case 6:return t.next=8,i()({method:"POST",path:n,data:e});case 8:o=t.sent,le[r]=o,c=oe(o);try{for(c.s();!(u=c.n()).done;)s=u.value,ae[s.ID]=s}catch(e){c.e(e)}finally{c.f()}return t.abrupt("return",o);case 13:case"end":return t.stop()}}),t)})))}(y)),O=m.data;return{posts:O||[],isLoading:!m.error&&!O}}(p,n,r,o),x=g.posts,_=g.isLoading;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Object(f.useEffect)((function(){if(n){var t=function(t){"Escape"===t.key&&e()};return window.addEventListener("keydown",t),function(){window.removeEventListener("keydown",t)}}}),t)}((function(){m(!1)}),[h],h),Object(f.createElement)(d.BaseControl,{className:"blockx--search-post"},Object(f.createElement)("div",{className:"blockx--search-posts__input-wrapper"},Object(f.createElement)(d.TextControl,{label:t,value:p,onChange:function(e){m(!0),b(e)},onFocus:function(){return m(!0)}}),_&&Object(f.createElement)("span",{className:"blockx--search-post__spinner-wrapper"},Object(f.createElement)(d.Spinner,null))),h?Object(f.createElement)(d.Popover,{focusOnMount:!1,position:"bottom center"},Object(f.createElement)("div",{className:"blockx--search-post__popover"},x.length>0?x.map((function(e){return Object(f.createElement)(fe,O()({key:e.ID},e,{onClick:function(){return c(e.ID)}}))})):Object(f.createElement)("p",{className:"blockx--search-post__no-results"},_?"Searching...":"No posts found."))):null)},be=function(e){var t,n,r=e.label,o=e.post_id,c=e.onUnlock,i=(t=te(o,se),{post:(n=t.data)||{},isLoading:!t.error&&!n}).post.post_title,u=void 0===i?o:i;return Object(f.createElement)(d.BaseControl,{className:"blockx--locked-post"},Object(f.createElement)(d.TextControl,{label:r,value:u,readOnly:!0}),Object(f.createElement)("span",{className:"blockx--locked-post__icon",onClick:c},Object(f.createElement)(d.Icon,{icon:"no"})))},de=n(10),ve=n.n(de),ye=n(6),he=function(e,t){return{value:e,label:t}},me=function(e,t,n){var r=Object(ye.useSelect)((function(n){return n("core/data").isResolving("core","getEntityRecords",["taxonomy",e,t])}),[e].concat(ve()(n))),o=Object(f.useState)([]),c=l()(o,2),i=c[0],u=c[1];return Object(f.useEffect)((function(){u(Object(ye.select)("core").getEntityRecords("taxonomy",e,t)||[])}),[r,e].concat(ve()(n))),{terms:i,isResolving:r}},Oe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:25;return me(e,{per_page:n,search:t},[t,n])};function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xe=function(e,t){return function(e,t){return t.find((function(t){return t.id===e}))}(e,t)||function(e,t){return t.find((function(t){return t.slug===e}))}(e,t)||function(e,t){return t.find((function(t){return t.name===e}))}(e,t)},we=function(e){var t=e.taxonomies,n=e.value,r=e.onChange,o=n.taxonomy,c=void 0===o?t[0]:o,i=n.termIds,u=void 0===i?[]:i,s=n.operator,p=void 0===s?"OR":s,b=y(),v=b.label_taxonomy,h=b.label_add_terms,m=b.label_operator,O=Object(f.useState)(""),g=l()(O,2),j=g[0],x=g[1],w=Object(f.useState)(""),_=l()(w,2),E=_[0],S=_[1],k=Oe(c,E),P=k.terms,C=k.isResolving,A=function(e,t){return me(e,{include:t},[t.join(",")])}(c,u),D=A.terms,I=A.isResolving;Object(f.useEffect)((function(){t.map((function(e){return e.value})).includes(c)||r(je(je({},n),{},{taxonomy:t[0].value}))}),[c,t]),Object(f.useEffect)((function(){var e=setTimeout((function(){S(j)}),600);return function(){return clearTimeout(e)}}),[u,j]);var T=["blockx--tax-query"];return C&&T.push("is-resolving-search"),I&&T.push("is-resolving-selection"),Object(f.createElement)("div",{className:T.join(" ")},Object(f.createElement)("div",null,Object(f.createElement)(d.SelectControl,{label:v,options:t,value:c,onChange:function(e){return r(je(je({},n),{},{taxonomy:e}))}})),Object(f.createElement)("div",null,Object(f.createElement)(d.FormTokenField,{label:h,value:u.map((function(e){var t=xe(e,D);return t?t.name:e})),onInputChange:function(e){x(e)},suggestions:P.map((function(e){return e.name})),onChange:function(e){var t=e.map((function(e){var t=a()(e)===a()("")?e:e.value,n=xe(t,P)||xe(t,D);return n?n.id:t}));r(je(je({},n),{},{termIds:t}))}})),Object(f.createElement)("div",null,Object(f.createElement)(d.SelectControl,{label:m,value:p,options:["IN","NOT IN","AND"].map((function(e){return he(e,e)})),onChange:function(e){r(je(je({},n),{},{operator:e}))}})))},_e=function(e){var t=e.children;return Object(f.createElement)("div",{style:{background:"rgba(0, 0, 0, 0.02)",padding:8,border:"1px solid rgba(0, 0, 0, 0.1)",borderRadius:4,marginBottom:5,marginLeft:-10,marginRight:-10}},t)},Ee=function(e){var t=e.taxonomies,n=e.value,r=e.onChange,o=y(),c=o.toggle_AND_description,i=o.toggle_OR_description,u=o.btn_add_taxonomy,a=o.btn_delete_taxonomy,s=n.taxonomies,l=void 0===s?[]:s,p=n.relation,b=void 0===p?"OR":p,v=function(e){return r(e.taxonomies.length>=1?e:void 0)};return Object(f.createElement)("div",null,Object(f.createElement)("div",null,l.map((function(e,r){return Object(f.createElement)(_e,{key:r},Object(f.createElement)(we,{taxonomies:t,value:e,onChange:function(e){v(je(je({},n),{},{taxonomies:l.map((function(t,n){return r===n?e:t}))}))}}),Object(f.createElement)(d.Button,{isDestructive:!0,isSmall:!0,onClick:function(){v(je(je({},n),{},{taxonomies:l.map((function(e,t){return t===r?null:e})).filter((function(e){return null!=e}))}))}},a))})),l.length>1?Object(f.createElement)("div",{style:{marginTop:10}},Object(f.createElement)(d.ToggleControl,{label:b,help:"AND"===b?c:i,checked:"AND"===b,onChange:function(e){v(je(je({},n),{},{relation:e?"AND":"OR"}))}})):null),Object(f.createElement)(d.Button,{isSecondary:!0,isSmall:!0,onClick:function(){v({relation:b,taxonomies:[].concat(ve()(l),[{}])})},style:{width:"100%",textAlign:"center",display:"inline-block"}},u))},Se=function(e){var t=e.definition,n=e.value,r=e.onChange;return"number"!=typeof t.rows||1===t.rows?Object(f.createElement)(d.TextControl,{label:t.label,value:n,onChange:r,help:t.help}):Object(f.createElement)(d.TextareaControl,{label:t.label,value:n,onChange:r,rows:t.rows,help:t.help})},ke=function(e,t){return a()(e)===a()({})?t?e.on:e.off:a()(e)===a()("")?e:null};function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ae={},De=function(){var e=j()(w.a.mark((function e(t){var n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a()(t)!==a()("")||0!==t.length){e.next=2;break}return e.abrupt("return",null);case 2:if(!(a()(t)===a()(1)&&t<=0)){e.next=4;break}return e.abrupt("return",null);case 4:if(n=Ae[t],a()(n)!==a()({})||"undefined"===a()(n.type)){e.next=7;break}return e.abrupt("return",n);case 7:return e.next=9,i()({path:"/wp/v2/media/"+t});case 9:return r=e.sent,a()(r)===a()({})&&r.id===t&&(n[t]=Ce(Ce({},n[t]||{}),r)),e.abrupt("return",r);case 12:case"end":return e.stop()}}),e)})));return function(_x){return e.apply(this,arguments)}}(),Ie=function(e){var t=e.children,n=e.type,r=void 0===n?"any":n,o=e.isLoading,c=void 0!==o&&o?"blockx-media-widget__preview--is-loading":"";return Object(f.createElement)("div",{className:"blockx-media-widget__preview--item blockx-media-widget__preview--".concat(r," ").concat(c)},t)},Te=function(e){var t,n,r,o,c=e.ID,i=h().not_found,u=function(e){var t=te(e,De),n=t.data;return{media:n||{},isLoading:!t.error&&!n}}(c),a=u.media;if(u.isLoading)return Object(f.createElement)(Ie,{isLoading:!0},Object(f.createElement)("span",{className:"spinner is-active"}));if("image"===(null==a?void 0:a.media_type))return null!=a&&null!==(n=a.media_details)&&void 0!==n&&null!==(r=n.sizes)&&void 0!==r&&null!==(o=r.thumbnail)&&void 0!==o&&o.source_url?Object(f.createElement)(Ie,{type:"image"},Object(f.createElement)("img",{src:a.media_details.sizes.thumbnail.source_url})):Object(f.createElement)("span",{className:"blockx-media-widget__404"},i);if(null==a||!a.source_url)return Object(f.createElement)("span",{className:"blockx-media-widget__404"},i);var s=null!=a&&null!==(t=a.title)&&void 0!==t&&t.rendered?a.title.rendered:a.source_url;return Object(f.createElement)(Ie,null,Object(f.createElement)("p",null,Object(f.createElement)("a",{href:a.source_url,target:"_blank"},s)))},Re=n(57),Me=n.n(Re);function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ue={text:Se,textarea:function(e){return Object(f.createElement)(Se,e)},number:function(e){var t=e.definition,n=e.value,r=e.onChange;return Object(f.createElement)(d.TextControl,{label:t.label,value:n,onChange:r,type:"number"})},toggle:function(e){var t=e.definition,n=e.value,r=e.onChange,o=t.label,c=t.help;return Object(f.createElement)(d.ToggleControl,{label:ke(o,n),help:ke(c,n),checked:n,onChange:r})},select:function(e){var t=e.definition,n=e.value,r=e.onChange,o=t.label,c=t.options;return Object(f.createElement)(d.SelectControl,{label:o,value:n,onChange:r,options:c,multiple:t.multiple})},taxonomy_term:function(e){var t,n,r,o=e.definition,c=e.value,i=e.onChange,u=o.label,a=(t=o.taxonomy,n=Oe(t,"",-1).terms,r=v().term_select_any,[he("",r)].concat(ve()(n.map((function(e){var t=e.name,n=e.id;return he(n,t)})))));return Object(f.createElement)(d.SelectControl,{label:u,value:c,onChange:i,options:a})},tax_query:function(e){var t=e.definition,n=e.value,r=e.onChange;return Object(f.createElement)(d.BaseControl,{label:t.label},Object(f.createElement)(Ee,{taxonomies:t.taxonomies,value:n,onChange:r}))},post:function(e){var t=e.definition,n=e.value,r=e.onChange,o=e.instance;return n?Object(f.createElement)(be,{label:t.label,post_id:n,onUnlock:function(){return r("")}}):Object(f.createElement)(pe,{label:t.label,post_types:t.post_types,post_status:t.post_status,use_context:t.use_context,instance:o,onFound:r})},hidden:function(){return null},divider:function(){return Object(f.createElement)("hr",null)},readonly:function(e){var t=e.definition,n=e.value;return Object(f.createElement)(d.TextControl,{label:t.label,type:"text",readOnly:!0,value:n})},media:function(e){var t=e.definition,n=e.value,r=e.onChange,o=t.label,c=t.mediaTypes,i=t.multiple,u=t.mediaUploadTitle,a=h().no_permission;return Object(f.createElement)("div",{className:"blockx-media-widget ".concat(i?"blockx-media-widget__multiple":"")},Object(f.createElement)(b.MediaUploadCheck,{fallback:Object(f.createElement)("p",null,"$",a)},Object(f.createElement)("div",{className:"blockx-media-widget__control"},Object(f.createElement)(b.MediaUpload,{title:u.length>0?u:void 0,allowedTypes:c.length>0?c:void 0,multiple:i,gallery:!1,value:n,onSelect:function(e){Array.isArray(e)?r(e.map((function(e){return e.id}))):r(e.id)},render:function(e){var t=e.open;return Object(f.createElement)(d.Button,{isSecondary:!0,onClick:function(){return t()}},o)}})),Object(f.createElement)("div",{className:"blockx-media-widget__preview"},Array.isArray(n)?n.map((function(e){return Object(f.createElement)(Te,{key:e,ID:e})})):n?Object(f.createElement)(Te,{ID:n}):null)))},list_of:function(e){var t=e.definition,n=e.value,r=e.onChange,o=function(e,t){r(n.map((function(r,o){return o===e?Be({},n[t]):o===t?Be({},n[e]):r})))};return Object(f.createElement)(d.BaseControl,{className:"blockx-list-of-widget",label:t.label},Object(f.createElement)("div",{className:"blockx-list-of-widget__body"},n.map((function(e,c){return Object(f.createElement)("div",{className:"blockx-list-of-widget__item",key:c},Object(f.createElement)("div",{className:"blockx-list-of-widget__item--control blockx-list-of-widget__item--control-top"},Object(f.createElement)(d.Button,{icon:"arrow-up",isSecondary:!0,isSmall:!0,disabled:0===c,onClick:function(){return function(e){return o(e,e-1)}(c)}},"Up")),Object(f.createElement)(Fe,{items:t.contentStructure,value:e,onChange:function(e,t){return function(e,t,o){var c=Me()(n);c[e][t]=o,r(c)}(c,e,t)}}),Object(f.createElement)("div",{className:"blockx-list-of-widget__item--control blockx-list-of-widget__item--control-bottom"},Object(f.createElement)(d.Button,{icon:"arrow-down",isSecondary:!0,isSmall:!0,disabled:c>=n.length-1,onClick:function(){return function(e){return o(e,e+1)}(c)}},"Down"),Object(f.createElement)(d.Button,{icon:"trash",isSecondary:!0,isSmall:!0,isDestructive:!0,disabled:0===n.length,onClick:function(){return function(e){r(n.filter((function(t,n){return n!==e})))}(c)}},"Delete item")))}))),Object(f.createElement)("div",{className:"blockx-list-of-widget__control"},Object(f.createElement)(d.Button,{icon:"plus",isSecondary:!0,isSmall:!0,onClick:function(){var e={};t.contentStructure.forEach((function(n){e[n.key]=null==t?void 0:t.defaultValues[n.key]})),r([].concat(ve()(n),[e]))}},"Add list item"),Object(f.createElement)(d.Button,{icon:"trash",isSecondary:!0,isSmall:!0,isDestructive:!0,disabled:0===n.length,onClick:function(){r([])}},"Delete all items")))}},Fe=function(e){var t=e.items,n=e.value,r=e.onChange;return t.map((function(e,t){if("undefined"!==a()(Ue[e.type])){var o=Ue[e.type],c="undefined"!==a()(n[e.key])?n[e.key]:e.defaultValue;return Object(f.createElement)(o,{key:"".concat(t,"-").concat(e.key),definition:e,value:c,onChange:function(t){return r(e.key,t)}})}return Object(f.createElement)("p",{key:e.key},"Type ",Object(f.createElement)("b",null,e.type)," not implemented")}))};function Le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qe=function(e){var t,n=e.definition,r=e.content,o=e.setContent,c=v().btn_apply_changes,i=re(),u=i.localChanges,a=i.changeLocalState,s=[],l={label:void 0,opened:void 0,contentStructure:[]},p=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Le(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Le(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,i=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){u=!0,c=e},f:function(){try{i||null==n.return||n.return()}finally{if(u)throw c}}}}(n);try{for(p.s();!(t=p.n()).done;){var b=t.value;"panel"!==b.type?l.contentStructure.push(b):(s.push(ze({},l)),s.push({label:b.label,opened:b.opened,contentStructure:b.contentStructure}),l.contentStructure=[])}}catch(e){p.e(e)}finally{p.f()}return l.contentStructure.length>0&&s.push(l),Object(f.createElement)(f.Fragment,null,s.map((function(e,t){return Object(f.createElement)(d.PanelBody,{key:t,title:e.label,initialOpen:e.opened},Object(f.createElement)(Fe,{items:e.contentStructure,value:ze(ze({},r),u),onChange:function(e,t){a(e,t)}}))})),Object(f.createElement)(d.PanelBody,null,Object(f.createElement)(d.Button,{isSecondary:!0,disabled:0===Object.keys(u).length,onClick:function(){o(ze(ze({},r),u))}},c)))};function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $e=n(36).getBlockContext,Ke=function(e){var t=e.blockId,n=e.contentStructure,r=e.defaultValues,o=e.attributes,c=e.content,i=e.setContent,u=e.changeLocalState,a=e.localChanges,s=e.children,l=$e();return Object(f.createElement)(l.Provider,{value:{blockId:t,contentStructure:n,defaultValues:r,attributes:o,content:c,setContent:i,changeLocalState:u,localChanges:a,dirtyState:We(We({},c),a)}},s)},Je=n(16),Xe=n(23),He=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object(ye.useSelect)((function(t){return e(t(Xe.STORE_NAME))}),t)},Ge=function(e){var t=e.isLoading,n=e.children;return Object(f.createElement)("div",{className:"blockx--ssr__wrapper"},n,t&&Object(f.createElement)("span",{className:"loader"},Object(f.createElement)(d.Spinner,null)))},Ye=function(e){var t=e.block,n=e.content,r=e.attributes;void 0===r&&(console.warn("Using content attribute with ServerSideRenderQueue is deprecated. Please provide the complete attribute object of the block."),r={content:n});var o=function(e,t){var n=He((function(n){return n.getBlock(e,t)}),[e,t]),r=Object(ye.useDispatch)(Xe.STORE_NAME);return Object(f.useEffect)((function(){r.addToQueue(e,t)}),[e,JSON.stringify(t)]),n}(t,r),c=function(e,t){return He((function(n){return n.isRequesting(e,t)}),[e,t])}(t,r),i=function(e,t){return He((function(n){return n.isInQueue(e,t)}),[e,t])}(t,r),u=c||i;if(!1===o)return Object(f.createElement)(Ge,{isLoading:u},";",Object(f.createElement)(d.Placeholder,null,Object(Je.sprintf)(Object(Je.__)("Error loading block: %s"),t)));if("undefined"===a()(o)){var s=Object(Je.__)("Block rendered as empty.");return Object(f.createElement)(Ge,{isLoading:u},Object(f.createElement)(d.Placeholder,null,u?Object(Je.__)("Loading"):s))}return Object(f.createElement)(Ge,{isLoading:u},Object(f.createElement)(f.RawHTML,{key:"html"},o))};function Ze(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return et(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?et(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,i=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){u=!0,c=e},f:function(){try{i||null==n.return||n.return()}finally{if(u)throw c}}}}function et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var rt,ot=window.BlockXComponents=nt(nt({},window.BlockXComponents||{}),{},{ServerSideRenderQueue:Ye,useBlock:re}),ct=Ze(BlockX.blocks);try{var it=function(){var e,t=rt.value,n=t.id,r=t.title,c=t.category,i=t.registerBlockTypeArgs,u=t.contentStructure,s={},d=Ze(u);try{for(d.s();!(e=d.n()).done;){var v=e.value,y=v.defaultValue,h=v.key,m=v.options;"undefined"!==a()(y)?s[h]=y:a()(m)===a()([])&&m.length>0&&a()(m[0].value)===a()("")&&(s[h]=m[0].value)}}catch(e){d.e(e)}finally{d.f()}Object(p.registerBlockType)(n,nt(nt({},i),{},{title:r,category:c,attributes:{content:{type:"object",default:s}},edit:function(e){var t,r,c,i=e.className,a=e.setAttributes,p=e.attributes,d=Object(f.useState)({}),v=l()(d,2),y=v[0],h=v[1],m=function(e,t){h((function(n){return nt(nt({},y),{},o()({},e,t))}))};t=function(){O(nt(nt({},p.content),y))},r=y,c=BlockX.settings.auto_save_timeout,Object(f.useEffect)((function(){var e=null;return 0!==Object.keys(r).length&&c>100&&(e=setTimeout((function(){t()}),c)),function(){return clearTimeout(e)}}),[JSON.stringify(r)]);var O=function(e){a({content:e}),h({})},g=ot[n]||Ye;return Object(f.createElement)(f.Fragment,null,Object(f.createElement)(b.InspectorControls,null,Object(f.createElement)(Ke,{blockId:n,contentStructure:u,defaultValues:s,attributes:p,content:p.content,setContent:O,changeLocalState:m,localChanges:y},Object(f.createElement)(qe,{definition:u,content:p.content,setContent:O}))),Object(f.createElement)("div",{className:i},Object(f.createElement)(Ke,{blockId:n,contentStructure:u,defaultValues:s,attributes:p,content:p.content,setContent:O,changeLocalState:m,localChanges:y},Object(f.createElement)(g,{block:n,attributes:p,content:p.content}))))}}))};for(ct.s();!(rt=ct.n()).done;)it()}catch(e){ct.e(e)}finally{ct.f()}function ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(135),i.a.use((function(e,t){return e.headers=at(at({},e.headers||{}),{},o()({},"Block-X-Editor",!0)),t(e)}))}]);