(()=>{var e={7828:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getBlockContext:()=>o});const r={},o=()=>((e,t="")=>(void 0===r[e]&&(r[e]=React.createContext(t)),r[e]))("block")},7269:(e,t,n)=>{var r=n(7758)(n(9165),"DataView");e.exports=r},8987:(e,t,n)=>{var r=n(1519),o=n(2999),a=n(6111),l=n(506),s=n(845);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=l,c.prototype.set=s,e.exports=c},175:(e,t,n)=>{var r=n(2173),o=n(3752),a=n(548),l=n(3410),s=n(3564);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=l,c.prototype.set=s,e.exports=c},5922:(e,t,n)=>{var r=n(7758)(n(9165),"Map");e.exports=r},9440:(e,t,n)=>{var r=n(7140),o=n(6504),a=n(8833),l=n(953),s=n(724);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=l,c.prototype.set=s,e.exports=c},6795:(e,t,n)=>{var r=n(7758)(n(9165),"Promise");e.exports=r},1956:(e,t,n)=>{var r=n(7758)(n(9165),"Set");e.exports=r},5929:(e,t,n)=>{var r=n(175),o=n(551),a=n(4090),l=n(7694),s=n(6220),c=n(8958);function i(e){var t=this.__data__=new r(e);this.size=t.size}i.prototype.clear=o,i.prototype.delete=a,i.prototype.get=l,i.prototype.has=s,i.prototype.set=c,e.exports=i},4396:(e,t,n)=>{var r=n(9165).Symbol;e.exports=r},2210:(e,t,n)=>{var r=n(9165).Uint8Array;e.exports=r},9477:(e,t,n)=>{var r=n(7758)(n(9165),"WeakMap");e.exports=r},1662:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},8969:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,a=[];++n<r;){var l=e[n];t(l,n,e)&&(a[o++]=l)}return a}},9809:(e,t,n)=>{var r=n(9739),o=n(353),a=n(4669),l=n(1563),s=n(1010),c=n(3806),i=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=a(e),u=!n&&o(e),d=!n&&!u&&l(e),p=!n&&!u&&!d&&c(e),m=n||u||d||p,f=m?r(e.length,String):[],v=f.length;for(var g in e)!t&&!i.call(e,g)||m&&("length"==g||d&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,v))||f.push(g);return f}},8486:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},3719:(e,t,n)=>{var r=n(404),o=n(2448),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var l=e[t];a.call(e,t)&&o(l,n)&&(void 0!==n||t in e)||r(e,t,n)}},2718:(e,t,n)=>{var r=n(2448);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},3472:(e,t,n)=>{var r=n(2434),o=n(579);e.exports=function(e,t){return e&&r(t,o(t),e)}},7254:(e,t,n)=>{var r=n(2434),o=n(7390);e.exports=function(e,t){return e&&r(t,o(t),e)}},404:(e,t,n)=>{var r=n(4082);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},7410:(e,t,n)=>{var r=n(5929),o=n(1662),a=n(3719),l=n(3472),s=n(7254),c=n(9767),i=n(7165),u=n(8782),d=n(2667),p=n(9698),m=n(1699),f=n(1887),v=n(2195),g=n(6740),b=n(6404),h=n(4669),y=n(1563),_=n(2924),k=n(6838),x=n(5380),E=n(579),w=n(7390),S="[object Arguments]",j="[object Function]",C="[object Object]",O={};O[S]=O["[object Array]"]=O["[object ArrayBuffer]"]=O["[object DataView]"]=O["[object Boolean]"]=O["[object Date]"]=O["[object Float32Array]"]=O["[object Float64Array]"]=O["[object Int8Array]"]=O["[object Int16Array]"]=O["[object Int32Array]"]=O["[object Map]"]=O["[object Number]"]=O[C]=O["[object RegExp]"]=O["[object Set]"]=O["[object String]"]=O["[object Symbol]"]=O["[object Uint8Array]"]=O["[object Uint8ClampedArray]"]=O["[object Uint16Array]"]=O["[object Uint32Array]"]=!0,O["[object Error]"]=O[j]=O["[object WeakMap]"]=!1,e.exports=function e(t,n,B,I,A,N){var T,P=1&n,R=2&n,$=4&n;if(B&&(T=A?B(t,I,A,N):B(t)),void 0!==T)return T;if(!k(t))return t;var L=h(t);if(L){if(T=v(t),!P)return i(t,T)}else{var F=f(t),D=F==j||"[object GeneratorFunction]"==F;if(y(t))return c(t,P);if(F==C||F==S||D&&!A){if(T=R||D?{}:b(t),!P)return R?d(t,s(T,t)):u(t,l(T,t))}else{if(!O[F])return A?t:{};T=g(t,F,P)}}N||(N=new r);var U=N.get(t);if(U)return U;N.set(t,T),x(t)?t.forEach((function(r){T.add(e(r,n,B,r,t,N))})):_(t)&&t.forEach((function(r,o){T.set(o,e(r,n,B,o,t,N))}));var M=L?void 0:($?R?m:p:R?w:E)(t);return o(M||t,(function(r,o){M&&(r=t[o=r]),a(T,o,e(r,n,B,o,t,N))})),T}},1348:(e,t,n)=>{var r=n(6838),o=Object.create,a=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=a},8084:(e,t,n)=>{var r=n(8486),o=n(4669);e.exports=function(e,t,n){var a=t(e);return o(e)?a:r(a,n(e))}},732:(e,t,n)=>{var r=n(4396),o=n(1239),a=n(7058),l=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":l&&l in Object(e)?o(e):a(e)}},4742:(e,t,n)=>{var r=n(732),o=n(5073);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},4033:(e,t,n)=>{var r=n(1887),o=n(5073);e.exports=function(e){return o(e)&&"[object Map]"==r(e)}},8939:(e,t,n)=>{var r=n(2042),o=n(654),a=n(6838),l=n(1059),s=/^\[object .+?Constructor\]$/,c=Function.prototype,i=Object.prototype,u=c.toString,d=i.hasOwnProperty,p=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||o(e))&&(r(e)?p:s).test(l(e))}},8264:(e,t,n)=>{var r=n(1887),o=n(5073);e.exports=function(e){return o(e)&&"[object Set]"==r(e)}},2882:(e,t,n)=>{var r=n(732),o=n(7216),a=n(5073),l={};l["[object Float32Array]"]=l["[object Float64Array]"]=l["[object Int8Array]"]=l["[object Int16Array]"]=l["[object Int32Array]"]=l["[object Uint8Array]"]=l["[object Uint8ClampedArray]"]=l["[object Uint16Array]"]=l["[object Uint32Array]"]=!0,l["[object Arguments]"]=l["[object Array]"]=l["[object ArrayBuffer]"]=l["[object Boolean]"]=l["[object DataView]"]=l["[object Date]"]=l["[object Error]"]=l["[object Function]"]=l["[object Map]"]=l["[object Number]"]=l["[object Object]"]=l["[object RegExp]"]=l["[object Set]"]=l["[object String]"]=l["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&o(e.length)&&!!l[r(e)]}},7473:(e,t,n)=>{var r=n(2963),o=n(4457),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},2506:(e,t,n)=>{var r=n(6838),o=n(2963),a=n(814),l=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return a(e);var t=o(e),n=[];for(var s in e)("constructor"!=s||!t&&l.call(e,s))&&n.push(s);return n}},9739:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},8792:e=>{e.exports=function(e){return function(t){return e(t)}}},8925:(e,t,n)=>{var r=n(2210);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},9767:(e,t,n)=>{e=n.nmd(e);var r=n(9165),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,l=a&&a.exports===o?r.Buffer:void 0,s=l?l.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}},6157:(e,t,n)=>{var r=n(8925);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},101:e=>{var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},4920:(e,t,n)=>{var r=n(4396),o=r?r.prototype:void 0,a=o?o.valueOf:void 0;e.exports=function(e){return a?Object(a.call(e)):{}}},7136:(e,t,n)=>{var r=n(8925);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},7165:e=>{e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},2434:(e,t,n)=>{var r=n(3719),o=n(404);e.exports=function(e,t,n,a){var l=!n;n||(n={});for(var s=-1,c=t.length;++s<c;){var i=t[s],u=a?a(n[i],e[i],i,n,e):void 0;void 0===u&&(u=e[i]),l?o(n,i,u):r(n,i,u)}return n}},8782:(e,t,n)=>{var r=n(2434),o=n(7482);e.exports=function(e,t){return r(e,o(e),t)}},2667:(e,t,n)=>{var r=n(2434),o=n(1288);e.exports=function(e,t){return r(e,o(e),t)}},6633:(e,t,n)=>{var r=n(9165)["__core-js_shared__"];e.exports=r},4082:(e,t,n)=>{var r=n(7758),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},6476:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},9698:(e,t,n)=>{var r=n(8084),o=n(7482),a=n(579);e.exports=function(e){return r(e,a,o)}},1699:(e,t,n)=>{var r=n(8084),o=n(1288),a=n(7390);e.exports=function(e){return r(e,a,o)}},7707:(e,t,n)=>{var r=n(3880);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},7758:(e,t,n)=>{var r=n(8939),o=n(9149);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},1389:(e,t,n)=>{var r=n(5542)(Object.getPrototypeOf,Object);e.exports=r},1239:(e,t,n)=>{var r=n(4396),o=Object.prototype,a=o.hasOwnProperty,l=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=l.call(e);return r&&(t?e[s]=n:delete e[s]),o}},7482:(e,t,n)=>{var r=n(8969),o=n(8036),a=Object.prototype.propertyIsEnumerable,l=Object.getOwnPropertySymbols,s=l?function(e){return null==e?[]:(e=Object(e),r(l(e),(function(t){return a.call(e,t)})))}:o;e.exports=s},1288:(e,t,n)=>{var r=n(8486),o=n(1389),a=n(7482),l=n(8036),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,a(e)),e=o(e);return t}:l;e.exports=s},1887:(e,t,n)=>{var r=n(7269),o=n(5922),a=n(6795),l=n(1956),s=n(9477),c=n(732),i=n(1059),u="[object Map]",d="[object Promise]",p="[object Set]",m="[object WeakMap]",f="[object DataView]",v=i(r),g=i(o),b=i(a),h=i(l),y=i(s),_=c;(r&&_(new r(new ArrayBuffer(1)))!=f||o&&_(new o)!=u||a&&_(a.resolve())!=d||l&&_(new l)!=p||s&&_(new s)!=m)&&(_=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,r=n?i(n):"";if(r)switch(r){case v:return f;case g:return u;case b:return d;case h:return p;case y:return m}return t}),e.exports=_},9149:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},1519:(e,t,n)=>{var r=n(7722);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},2999:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},6111:(e,t,n)=>{var r=n(7722),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},506:(e,t,n)=>{var r=n(7722),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},845:(e,t,n)=>{var r=n(7722);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},2195:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},6740:(e,t,n)=>{var r=n(8925),o=n(6157),a=n(101),l=n(4920),s=n(7136);e.exports=function(e,t,n){var c=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return o(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":case"[object Set]":return new c;case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return a(e);case"[object Symbol]":return l(e)}}},6404:(e,t,n)=>{var r=n(1348),o=n(1389),a=n(2963);e.exports=function(e){return"function"!=typeof e.constructor||a(e)?{}:r(o(e))}},1010:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},3880:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},654:(e,t,n)=>{var r,o=n(6633),a=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!a&&a in e}},2963:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},2173:e=>{e.exports=function(){this.__data__=[],this.size=0}},3752:(e,t,n)=>{var r=n(2718),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():o.call(t,n,1),--this.size,0))}},548:(e,t,n)=>{var r=n(2718);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},3410:(e,t,n)=>{var r=n(2718);e.exports=function(e){return r(this.__data__,e)>-1}},3564:(e,t,n)=>{var r=n(2718);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},7140:(e,t,n)=>{var r=n(8987),o=n(175),a=n(5922);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||o),string:new r}}},6504:(e,t,n)=>{var r=n(7707);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},8833:(e,t,n)=>{var r=n(7707);e.exports=function(e){return r(this,e).get(e)}},953:(e,t,n)=>{var r=n(7707);e.exports=function(e){return r(this,e).has(e)}},724:(e,t,n)=>{var r=n(7707);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},7722:(e,t,n)=>{var r=n(7758)(Object,"create");e.exports=r},4457:(e,t,n)=>{var r=n(5542)(Object.keys,Object);e.exports=r},814:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},8478:(e,t,n)=>{e=n.nmd(e);var r=n(6476),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,l=a&&a.exports===o&&r.process,s=function(){try{return a&&a.require&&a.require("util").types||l&&l.binding&&l.binding("util")}catch(e){}}();e.exports=s},7058:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5542:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},9165:(e,t,n)=>{var r=n(6476),o="object"==typeof self&&self&&self.Object===Object&&self,a=r||o||Function("return this")();e.exports=a},551:(e,t,n)=>{var r=n(175);e.exports=function(){this.__data__=new r,this.size=0}},4090:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},7694:e=>{e.exports=function(e){return this.__data__.get(e)}},6220:e=>{e.exports=function(e){return this.__data__.has(e)}},8958:(e,t,n)=>{var r=n(175),o=n(5922),a=n(9440);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var l=n.__data__;if(!o||l.length<199)return l.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(l)}return n.set(e,t),this.size=n.size,this}},1059:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},2222:(e,t,n)=>{var r=n(7410);e.exports=function(e){return r(e,5)}},2448:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},353:(e,t,n)=>{var r=n(4742),o=n(5073),a=Object.prototype,l=a.hasOwnProperty,s=a.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return o(e)&&l.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},4669:e=>{var t=Array.isArray;e.exports=t},7428:(e,t,n)=>{var r=n(2042),o=n(7216);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},1563:(e,t,n)=>{e=n.nmd(e);var r=n(9165),o=n(4193),a=t&&!t.nodeType&&t,l=a&&e&&!e.nodeType&&e,s=l&&l.exports===a?r.Buffer:void 0,c=(s?s.isBuffer:void 0)||o;e.exports=c},2042:(e,t,n)=>{var r=n(732),o=n(6838);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},7216:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},2924:(e,t,n)=>{var r=n(4033),o=n(8792),a=n(8478),l=a&&a.isMap,s=l?o(l):r;e.exports=s},6838:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},5073:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},5380:(e,t,n)=>{var r=n(8264),o=n(8792),a=n(8478),l=a&&a.isSet,s=l?o(l):r;e.exports=s},3806:(e,t,n)=>{var r=n(2882),o=n(8792),a=n(8478),l=a&&a.isTypedArray,s=l?o(l):r;e.exports=s},579:(e,t,n)=>{var r=n(9809),o=n(7473),a=n(7428);e.exports=function(e){return a(e)?r(e):o(e)}},7390:(e,t,n)=>{var r=n(9809),o=n(2506),a=n(7428);e.exports=function(e){return a(e)?r(e,!0):o(e)}},8036:e=>{e.exports=function(){return[]}},4193:e=>{e.exports=function(){return!1}},2415:(e,t,n)=>{"use strict";var r=n(9196),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=r.useState,l=r.useEffect,s=r.useLayoutEffect,c=r.useDebugValue;function i(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),o=r[0].inst,u=r[1];return s((function(){o.value=n,o.getSnapshot=t,i(o)&&u({inst:o})}),[e,n,t]),l((function(){return i(o)&&u({inst:o}),e((function(){i(o)&&u({inst:o})}))}),[e]),c(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},4322:(e,t,n)=>{"use strict";e.exports=n(2415)},9196:e=>{"use strict";e.exports=window.React}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r](a,a.exports,n),a.loaded=!0,a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";const e=window.wp.apiFetch;var t=n.n(e);const r=window.wp.blocks;var o=n(9196);const a=window.wp.data,l=()=>(0,a.useSelect)((e=>e("core/edit-post").__experimentalGetPreviewDeviceType()),[]),s=window.wp.blockEditor,c=JSON.parse('{"apiVersion":2,"name":"blockx/composed-block","title":"composedBlock","category":"design","icon":"layout","description":"Adds a composed Block which can be used to insert other Blocks into one new Block","keywords":["composedBlock","innerBlocks"],"textdomain":"blockx","supports":{"html":false},"editorStyle":"blockx_composedBlock_style_editor","style":"blockx_composedBlock_style"}'),i=s.useInnerBlocksProps?s.useInnerBlocksProps:s.__experimentalUseInnerBlocksProps;function u(e,t){const n=["blockx__composed-block",`blockx__composed-block--${e.replace("/","_")}`];return t&&n.push(`preview-mode-${t}`),n}const d=e=>{const t={...c,name:e.id,title:e.title,style:e.style,editorStyle:e.editorStyle,templates:e.templates,allowedBlocks:e.allowedBlocks,templateLock:e.templateLock,orientation:e.orientation};e.category&&(t.category=e.category),e.icon&&(t.icon=e.icon);const n=t.name;return{meta:t,settings:{category:t.category,icon:t.icon,transforms:[],edit:e=>{const r=l(),a=u(n,r),c=(0,s.useBlockProps)({className:a.join(" ")}),d=i(c,{allowedBlocks:t.allowedBlocks,template:t.templates,templateLock:t.templateLock,orientation:t.orientation,renderAppender:s.InnerBlocks.ButtonBlockAppender});return(0,o.createElement)("div",{...d})},save:({attributes:e})=>{const t=s.useBlockProps.save(),r=[t.className,...u(n)];return t.className=r.join(" "),(0,o.createElement)("div",{...t},(0,o.createElement)(s.InnerBlocks.Content,null))}}}};for(const e of BlockX.composedBlocks){const{meta:t,settings:n}=d(e);(0,r.registerBlockType)(t,n)}const p=JSON.parse('{"apiVersion":2,"name":"blockx/slot","title":"Slot","icon":"columns","category":"design","description":"A single slot within a container block.","textdomain":"blockx","parent":["blockx/container"],"attributes":{},"supports":{"inserter":false,"reusable":false,"html":false},"editorStyle":"blockx_slot_style_editor","style":"blockx_slot_style"}'),m=s.useInnerBlocksProps?s.useInnerBlocksProps:s.__experimentalUseInnerBlocksProps,f={edit:e=>{const{clientId:t,attributes:n}=e,{columnsIds:r,hasChildBlocks:l,rootClientId:c}=(0,a.useSelect)((e=>{const{getBlockOrder:n,getBlockRootClientId:r}=e(s.store),o=r(t);return{hasChildBlocks:n(t).length>0,rootClientId:o,columnsIds:n(o)}}),[t]),i=(0,s.useBlockProps)({className:"blockx__slot"}),u=m(i,{renderAppender:l?void 0:s.InnerBlocks.ButtonBlockAppender});return(0,o.createElement)("div",{...u})},save:()=>{const e=s.useBlockProps.save();return e.className=`${e.className} blockx__slot`,(0,o.createElement)("div",{...e},(0,o.createElement)(s.InnerBlocks.Content,null))}},v=JSON.parse('{"apiVersion":2,"name":"blockx/container","title":"Container","category":"design","description":"Adds a container with custom grid.","keywords":["container","row","grid"],"textdomain":"blockx","supports":{"html":false},"editorStyle":"blockx_container_style_editor","style":"blockx_container_style"}'),g=["blockx/slot"],b=s.useInnerBlocksProps?s.useInnerBlocksProps:s.__experimentalUseInnerBlocksProps;function h(e,t){const n=["blockx__container",`blockx__container--c${e}`];return t&&n.push(`preview-mode-${t}`),n}const y=e=>{const t={...v,name:e.id,title:e.title,style:e.style,editorStyle:e.editorStyle},n=e.columns.map((e=>["blockx/slot",{weight:e}])),r=e.columns.reduce(((e,t)=>e+t),0),a=e.columns.map((e=>`${e}d${r}`)).join("-");return{meta:t,settings:{icon:"layout",transforms:[],edit:e=>{const t=l(),r=h(a,t),c=(0,s.useBlockProps)({className:r.join(" ")}),i=b(c,{allowedBlocks:g,template:n,orientation:"horizontal",renderAppender:!1});return(0,o.createElement)("div",{...i})},save:({attributes:e})=>{const t=s.useBlockProps.save(),n=[t.className,...h(a)];return t.className=n.join(" "),(0,o.createElement)("div",{...t},(0,o.createElement)(s.InnerBlocks.Content,null))}}}};(0,r.registerBlockType)(p,f);for(const e of BlockX.containers){const{meta:t,settings:n}=y(e);(0,r.registerBlockType)(t,n)}const _=window.wp.element,k=window.wp.components,x=e=>"string"==typeof e?BlockX.i18n[e]:BlockX.i18n,E=()=>x("widget_tax_query"),w=()=>x("widget_media");var S=n(4322);const j=()=>{},C=j(),O=Object,B=e=>e===C,I=e=>"function"==typeof e,A=(e,t)=>({...e,...t}),N=new WeakMap;let T=0;const P=e=>{const t=typeof e,n=e&&e.constructor,r=n==Date;let o,a;if(O(e)!==e||r||n==RegExp)o=r?e.toJSON():"symbol"==t?e.toString():"string"==t?JSON.stringify(e):""+e;else{if(o=N.get(e),o)return o;if(o=++T+"~",N.set(e,o),n==Array){for(o="@",a=0;a<e.length;a++)o+=P(e[a])+",";N.set(e,o)}if(n==O){o="#";const t=O.keys(e).sort();for(;!B(a=t.pop());)B(e[a])||(o+=a+":"+P(e[a])+",");N.set(e,o)}}return o},R=new WeakMap,$={},L={},F="undefined",D=typeof window!=F,U=typeof document!=F,M=(e,t)=>{const n=R.get(e);return[()=>!B(t)&&e.get(t)||$,r=>{if(!B(t)){const o=e.get(t);t in L||(L[t]=o),n[5](t,A(o,r),o||$)}},n[6],()=>!B(t)&&t in L?L[t]:!B(t)&&e.get(t)||$]};let V=!0;const[q,z]=D&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[j,j],J={isOnline:()=>V,isVisible:()=>{const e=U&&document.visibilityState;return B(e)||"hidden"!==e}},W={initFocus:e=>(U&&document.addEventListener("visibilitychange",e),q("focus",e),()=>{U&&document.removeEventListener("visibilitychange",e),z("focus",e)}),initReconnect:e=>{const t=()=>{V=!0,e()},n=()=>{V=!1};return q("online",t),q("offline",n),()=>{z("online",t),z("offline",n)}}},X=!o.useId,Q=!D||"Deno"in window,H=Q?o.useEffect:o.useLayoutEffect,G="undefined"!=typeof navigator&&navigator.connection,K=!Q&&G&&(["slow-2g","2g"].includes(G.effectiveType)||G.saveData),Y=e=>{if(I(e))try{e=e()}catch(t){e=""}const t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?P(e):"",t]};let Z=0;const ee=()=>++Z;async function te(...e){const[t,n,r,o]=e,a=A({populateCache:!0,throwOnError:!0},"boolean"==typeof o?{revalidate:o}:o||{});let l=a.populateCache;const s=a.rollbackOnError;let c=a.optimisticData;const i=!1!==a.revalidate,u=a.throwOnError;if(I(n)){const e=n,r=[],o=t.keys();for(const n of o)!/^\$(inf|sub)\$/.test(n)&&e(t.get(n)._k)&&r.push(n);return Promise.all(r.map(d))}return d(n);async function d(n){const[o]=Y(n);if(!o)return;const[a,d]=M(t,o),[p,m,f,v]=R.get(t),g=()=>{const e=p[o];return i&&(delete f[o],delete v[o],e&&e[0])?e[0](2).then((()=>a().data)):a().data};if(e.length<3)return g();let b,h=r;const y=ee();m[o]=[y,0];const _=!B(c),k=a(),x=k.data,E=k._c,w=B(E)?x:E;if(_&&(c=I(c)?c(w,x):c,d({data:c,_c:w})),I(h))try{h=h(w)}catch(e){b=e}if(h&&I(h.then)){if(h=await h.catch((e=>{b=e})),y!==m[o][0]){if(b)throw b;return h}b&&_&&(e=>"function"==typeof s?s(e):!1!==s)(b)&&(l=!0,d({data:w,_c:C}))}if(l&&!b)if(I(l)){const e=l(h,w);d({data:e,error:C,_c:C})}else d({data:h,error:C,_c:C});if(m[o][1]=ee(),Promise.resolve(g()).then((()=>{d({_c:C})})),!b)return h;if(u)throw b}}const ne=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},re=(e,t)=>{if(!R.has(e)){const n=A(W,t),r={},o=te.bind(C,e);let a=j;const l={},s=(e,t)=>{const n=l[e]||[];return l[e]=n,n.push(t),()=>n.splice(n.indexOf(t),1)},c=(t,n,r)=>{e.set(t,n);const o=l[t];if(o)for(const e of o)e(n,r)},i=()=>{if(!R.has(e)&&(R.set(e,[r,{},{},{},o,c,s]),!Q)){const t=n.initFocus(setTimeout.bind(C,ne.bind(C,r,0))),o=n.initReconnect(setTimeout.bind(C,ne.bind(C,r,1)));a=()=>{t&&t(),o&&o(),R.delete(e)}}};return i(),[e,o,i,a]}return[e,R.get(e)[4]]},[oe,ae]=re(new Map),le=A({onLoadingSlow:j,onSuccess:j,onError:j,onErrorRetry:(e,__,t,n,r)=>{const o=t.errorRetryCount,a=r.retryCount,l=~~((Math.random()+.5)*(1<<(a<8?a:8)))*t.errorRetryInterval;!B(o)&&a>o||setTimeout(n,l,r)},onDiscarded:j,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:K?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:K?5e3:3e3,compare:(e,t)=>P(e)==P(t),isPaused:()=>!1,cache:oe,mutate:ae,fallback:{}},J),se=(e,t)=>{const n=A(e,t);if(t){const{use:r,fallback:o}=e,{use:a,fallback:l}=t;r&&a&&(n.use=r.concat(a)),o&&l&&(n.fallback=A(o,l))}return n},ce=(0,o.createContext)({}),ie=D&&window.__SWR_DEVTOOLS_USE__,ue=ie?window.__SWR_DEVTOOLS_USE__:[],de=ue.concat((e=>(t,n,r)=>e(t,n&&((...e)=>{const[r]=Y(t),[,,,o]=R.get(oe);if(r.startsWith("$inf$"))return n(...e);const a=o[r];return B(a)?n(...e):(delete o[r],a)}),r)));ie&&(window.__SWR_DEVTOOLS_REACT__=o);const pe=o.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;throw"rejected"===e.status?e.reason:(e.status="pending",e.then((t=>{e.status="fulfilled",e.value=t}),(t=>{e.status="rejected",e.reason=t})),e)}),me={dedupe:!0},fe=(O.defineProperty((e=>{const{value:t}=e,n=(0,o.useContext)(ce),r=I(t),a=(0,o.useMemo)((()=>r?t(n):t),[r,n,t]),l=(0,o.useMemo)((()=>r?a:se(n,a)),[r,n,a]),s=a&&a.provider,c=(0,o.useRef)(C);s&&!c.current&&(c.current=re(s(l.cache||oe),a));const i=c.current;return i&&(l.cache=i[0],l.mutate=i[1]),H((()=>{if(i)return i[2]&&i[2](),i[3]}),[]),(0,o.createElement)(ce.Provider,A(e,{value:l}))}),"defaultValue",{value:le}),ve=(e,t,n)=>{const{cache:r,compare:a,suspense:l,fallbackData:s,revalidateOnMount:c,revalidateIfStale:i,refreshInterval:u,refreshWhenHidden:d,refreshWhenOffline:p,keepPreviousData:m}=n,[f,v,g,b]=R.get(r),[h,y]=Y(e),_=(0,o.useRef)(!1),k=(0,o.useRef)(!1),x=(0,o.useRef)(h),E=(0,o.useRef)(t),w=(0,o.useRef)(n),j=()=>w.current,O=()=>j().isVisible()&&j().isOnline(),[N,T,P,$]=M(r,h),L=(0,o.useRef)({}).current,U=B(s)?n.fallback[h]:s,V=(e,t)=>{for(const n in L){const r=n;if("data"===r){if(!a(e[r],t[r])){if(!B(e[r]))return!1;if(!a(re,t[r]))return!1}}else if(t[r]!==e[r])return!1}return!0},q=(0,o.useMemo)((()=>{const e=!!h&&!!t&&(B(c)?!j().isPaused()&&!l&&(!!B(i)||i):c),n=t=>{const n=A(t);return delete n._k,e?{isValidating:!0,isLoading:!0,...n}:n},r=N(),o=$(),a=n(r),s=r===o?a:n(o);let u=a;return[()=>{const e=n(N());return V(e,u)?(u.data=e.data,u.isLoading=e.isLoading,u.isValidating=e.isValidating,u.error=e.error,u):(u=e,e)},()=>s]}),[r,h]),z=(0,S.useSyncExternalStore)((0,o.useCallback)((e=>P(h,((t,n)=>{V(n,t)||e()}))),[r,h]),q[0],q[1]),J=!_.current,W=f[h]&&f[h].length>0,G=z.data,K=B(G)?U:G,Z=z.error,ne=(0,o.useRef)(K),re=m?B(G)?ne.current:G:K,oe=!(W&&!B(Z))&&(J&&!B(c)?c:!j().isPaused()&&(l?!B(K)&&i:B(K)||i)),ae=!!(h&&t&&J&&oe),le=B(z.isValidating)?ae:z.isValidating,se=B(z.isLoading)?ae:z.isLoading,ce=(0,o.useCallback)((async e=>{const t=E.current;if(!h||!t||k.current||j().isPaused())return!1;let r,o,l=!0;const s=e||{},c=!g[h]||!s.dedupe,i=()=>X?!k.current&&h===x.current&&_.current:h===x.current,u={isValidating:!1,isLoading:!1},d=()=>{T(u)},p=()=>{const e=g[h];e&&e[1]===o&&delete g[h]},m={isValidating:!0};B(N().data)&&(m.isLoading=!0);try{if(c&&(T(m),n.loadingTimeout&&B(N().data)&&setTimeout((()=>{l&&i()&&j().onLoadingSlow(h,n)}),n.loadingTimeout),g[h]=[t(y),ee()]),[r,o]=g[h],r=await r,c&&setTimeout(p,n.dedupingInterval),!g[h]||g[h][1]!==o)return c&&i()&&j().onDiscarded(h),!1;u.error=C;const e=v[h];if(!B(e)&&(o<=e[0]||o<=e[1]||0===e[1]))return d(),c&&i()&&j().onDiscarded(h),!1;const s=N().data;u.data=a(s,r)?s:r,c&&i()&&j().onSuccess(r,h,n)}catch(e){p();const t=j(),{shouldRetryOnError:n}=t;t.isPaused()||(u.error=e,c&&i()&&(t.onError(e,h,t),(!0===n||I(n)&&n(e))&&O()&&t.onErrorRetry(e,h,t,(e=>{const t=f[h];t&&t[0]&&t[0](3,e)}),{retryCount:(s.retryCount||0)+1,dedupe:!0})))}return l=!1,d(),!0}),[h,r]),ie=(0,o.useCallback)(((...e)=>te(r,x.current,...e)),[]);if(H((()=>{E.current=t,w.current=n,B(G)||(ne.current=G)})),H((()=>{if(!h)return;const e=ce.bind(C,me);let t=0;const n=((e,t,n)=>{const r=t[e]||(t[e]=[]);return r.push(n),()=>{const e=r.indexOf(n);e>=0&&(r[e]=r[r.length-1],r.pop())}})(h,f,((n,r={})=>{if(0==n){const n=Date.now();j().revalidateOnFocus&&n>t&&O()&&(t=n+j().focusThrottleInterval,e())}else if(1==n)j().revalidateOnReconnect&&O()&&e();else{if(2==n)return ce();if(3==n)return ce(r)}}));return k.current=!1,x.current=h,_.current=!0,T({_k:y}),oe&&(B(K)||Q?e():(r=e,D&&typeof window.requestAnimationFrame!=F?window.requestAnimationFrame(r):setTimeout(r,1))),()=>{k.current=!0,n()};var r}),[h]),H((()=>{let e;function t(){const t=I(u)?u(N().data):u;t&&-1!==e&&(e=setTimeout(n,t))}function n(){N().error||!d&&!j().isVisible()||!p&&!j().isOnline()?t():ce(me).then(t)}return t(),()=>{e&&(clearTimeout(e),e=-1)}}),[u,d,p,h]),(0,o.useDebugValue)(re),l&&B(K)&&h){if(!X&&Q)throw new Error("Fallback data is required when using suspense in SSR.");E.current=t,w.current=n,k.current=!1;const e=b[h];if(!B(e)){const t=ie(e);pe(t)}if(!B(Z))throw Z;{const e=ce(me);B(re)||(e.status="fulfilled",e.value=!0),pe(e)}}return{mutate:ie,get data(){return L.data=!0,re},get error(){return L.error=!0,Z},get isValidating(){return L.isValidating=!0,le},get isLoading(){return L.isLoading=!0,se}}},function(...e){const t=A(le,(0,o.useContext)(ce)),[n,r,a]=(e=>I(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}])(e),l=se(t,a);let s=ve;const{use:c}=l,i=(c||[]).concat(de);for(let e=i.length;e--;)s=i[e](s);return s(n,r||l.fetcher||null,l)});var ve,ge=n(7828);const be=()=>(0,o.useContext)((0,ge.getBlockContext)()),he=(e,t)=>{const[n,r]=(0,_.useState)(e);return(0,_.useEffect)((()=>{const n=setTimeout((()=>{r(e)}),t);return()=>{clearTimeout(n)}}),[e,t]),n},ye=(e,t=[],n=!0)=>{(0,_.useEffect)((()=>{if(!n)return;const t=({key:t})=>{"Escape"===t&&e()};return window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t)}}),t)},_e={},ke=async e=>{const n=_e[e];if(typeof n==typeof{}&&void 0!==n.post_title)return n;const r=await t()({path:"/blockx/v1/get/"+e});return typeof r==typeof{}&&r.ID&&(_e[e]={..._e[e]||{},...r}),r},xe={},Ee=({label:e,value:t,onUnlock:n})=>(0,o.createElement)(k.BaseControl,{className:"blockx--locked-text-control"},(0,o.createElement)(k.TextControl,{label:e,value:t,readOnly:!0}),(0,o.createElement)("span",{className:"blockx--locked-text-control__icon",onClick:n},(0,o.createElement)(k.Icon,{icon:"no"}))),we=(e,t,n)=>{const r=(0,a.useSelect)((n=>((e,t)=>(0,a.select)("core/data").isResolving("core","getEntityRecords",["taxonomy",e,t]))(e,t)),[e,...n]),[o,l]=(0,_.useState)([]);return(0,_.useEffect)((()=>{l(((e,t)=>(0,a.select)("core").getEntityRecords("taxonomy",e,t)||[])(e,t))}),[r,e,...n]),{terms:o,isResolving:r}},Se=(e,t,n=25)=>we(e,{per_page:n,search:t},[t,n]),je=(e,t)=>we(e,{include:t},[t.join(",")]),Ce={},Oe=async e=>{const n=Ce[e];if(typeof n==typeof{}&&void 0!==n.name)return n;const r=await t()({path:"/wp/v2/users/"+e});return typeof r==typeof{}&&r.id&&(Ce[e]={...Ce[e]||{},...r}),r},Be={},Ie={},Ae=async([e,n,r])=>{const o=`${n}/${e}?${r}`;if(typeof Ie[o]==typeof[])return Ie[o];const a=await((e,n,r)=>{const o=[];for(const e in r){const t=r[e];o.push(`${e}=${t}`)}const a=o.length>0?`?${o.join("&")}`:"";return t()({path:`/blockx/v1/ajax/${e}/${n}${a}`})})(n,e,{query:r});return Ie[o]=a,a},Ne=(e,t)=>{const{blockId:n}=be(),r=he(e,600),{data:o,error:a}=fe([t,n,r],Ae);return{items:o||[],isLoading:!a&&!o}},Te=({label:e,value:t,onChange:n,onFocus:r,isLoading:a=!1,showPopover:l=!1,children:s})=>(0,o.createElement)(k.BaseControl,{className:"blockx--popover-text-control"},(0,o.createElement)("div",{className:"blockx--popover-text-control__input-wrapper"},(0,o.createElement)(k.TextControl,{label:e,value:t,onChange:n,onFocus:r}),a&&(0,o.createElement)("span",{className:"blockx--popover-text-control__spinner-wrapper"},(0,o.createElement)(k.Spinner,null))),l?(0,o.createElement)(k.Popover,{focusOnMount:!1,position:"bottom center"},(0,o.createElement)("div",{className:"blockx--popover-text-control__popover"},s)):null),Pe=({label:e,useCompletion:t,renderItem:n,messageSearching:r="Searching...",messageNothingFound:a="Nothing found."})=>{const[l,s]=(0,_.useState)(""),[c,i]=(0,_.useState)(!1);ye((()=>{i(!1)}),[c],c);const[u,d]=t(l);return(0,o.createElement)(Te,{label:e,onChange:e=>{i(!0),s(e)},onFocus:()=>i(!0),showPopover:c,isLoading:d},u.length>0?u.map((e=>n(e))):(0,o.createElement)("p",{className:"blockx--auto-complete__no-results"},d?r:a))},Re=({ID:e,post_title:t,onClick:n})=>(0,o.createElement)("div",{className:"blockx-post",onClick:n},t,(0,o.createElement)("br",null),(0,o.createElement)("i",{className:"description"},"ID: ",e)),$e=({label:e,post_types:n,post_status:r,use_context:a,onFound:l})=>{const s=((e,n,r)=>(0,_.useCallback)((o=>{const{posts:a,isLoading:l}=((e,n,r,o)=>{const{blockId:a,dirtyState:l}=be(),s=((e,t,n,r)=>({s:e,post_type:t.join(","),post_status:n.join(","),block_instance:r}))(he(e,600),n,r,{...o?{blockId:a,content:l}:{blockId:a}}),c=JSON.stringify(s),{data:i,error:u}=fe(c,(e=>async()=>{if(0===e.length)return[];const n=JSON.stringify(e);if(typeof xe[n]==typeof[])return xe[n];const r=await t()({method:"POST",path:"/blockx/v1/query",data:e});xe[n]=r;for(const e of r)_e[e.ID]=e;return r})(s));return{posts:i||[],isLoading:!u&&!i}})(o,e,n,r);return[a,l]}),[e,n,r]))(n,r,a);return(0,o.createElement)(Pe,{label:e,useCompletion:s,renderItem:e=>(0,o.createElement)(Re,{key:e.ID,...e,onClick:()=>l(e.ID)})})},Le=({label:e,post_id:t,onUnlock:n})=>{const{post:r}=(e=>{const{data:t,error:n}=fe(e,ke);return{post:t||{},isLoading:!n&&!t}})(t),{post_title:a=t}=r;return(0,o.createElement)(Ee,{label:e,value:a,onUnlock:n})},Fe=({id:e,name:t,onClick:n})=>(0,o.createElement)("div",{className:"blockx-user",onClick:n},t,(0,o.createElement)("br",null),(0,o.createElement)("i",{className:"description"},"id: ",e)),De=({label:e,roles:n,use_context:r,onFound:a})=>{const l=((e,n)=>(0,_.useCallback)((r=>{const{users:o,isLoading:a}=((e,n,r)=>{const{blockId:o,dirtyState:a}=be(),l=((e,t,n)=>({search:e,roles:t.join(","),block_instance:n}))(he(e,600),n,{...r?{blockId:o,content:a}:{blockId:o}}),s=JSON.stringify(l),{data:c,error:i}=fe(s,(e=>async()=>{if(0===e.length)return[];const n=[];for(const t in e)n.push(`${t}=${e[t]}`);const r=n.join("&"),o=r;if(typeof Be[o]==typeof[])return Be[o];const a=await t()({path:`/wp/v2/users?${r}`});Be[o]=a;for(const e of a)Ce[e.id]=e;return a})(l));return{users:c||[],isLoading:!i&&!c}})(r,e,n);return[o,a]}),[e,n]))(n,r);return(0,o.createElement)(Pe,{label:e,useCompletion:l,renderItem:e=>(0,o.createElement)(Fe,{key:e.id,...e,onClick:()=>a(e.id)}),messageNothingFound:"No users found."})},Ue=({label:e,user_id:t,onUnlock:n})=>{const{user:r}=(e=>{const{data:t,error:n}=fe(e,Oe);return{user:t||{},isLoading:!n&&!t}})(t),{name:a=t}=r;return(0,o.createElement)(Ee,{label:e,value:a,onUnlock:n})},Me=(e,t)=>((e,t)=>t.find((t=>t.id===e)))(e,t)||((e,t)=>t.find((t=>t.slug===e)))(e,t)||((e,t)=>t.find((t=>t.name===e)))(e,t),Ve=({taxonomies:e,value:t,onChange:n})=>{const{taxonomy:r=e[0],termIds:a=[],operator:l="OR"}=t,{label_taxonomy:s,label_add_terms:c,label_operator:i}=E(),[u,d]=(0,_.useState)(""),[p,m]=(0,_.useState)(""),{terms:f,isResolving:v}=Se(r,p),{terms:g,isResolving:b}=je(r,a);(0,_.useEffect)((()=>{e.map((e=>e.value)).includes(r)||n({...t,taxonomy:e[0].value})}),[r,e]),(0,_.useEffect)((()=>{let e=setTimeout((()=>{m(u)}),600);return()=>clearTimeout(e)}),[a,u]);const h=["blockx--tax-query"];return v&&h.push("is-resolving-search"),b&&h.push("is-resolving-selection"),(0,o.createElement)("div",{className:h.join(" ")},(0,o.createElement)("div",null,(0,o.createElement)(k.SelectControl,{label:s,options:e,value:r,onChange:e=>n({...t,taxonomy:e})})),(0,o.createElement)("div",null,(0,o.createElement)(k.FormTokenField,{label:c,value:a.map((e=>{const t=Me(e,g);return t?t.name:e})),onInputChange:e=>{d(e)},suggestions:f.map((e=>e.name)),onChange:e=>{const r=e.map((e=>{const t="string"==typeof e?e:e.value,n=Me(t,f)||Me(t,g);return n?n.id:t}));n({...t,termIds:r})}})),(0,o.createElement)("div",null,(0,o.createElement)(k.SelectControl,{label:i,value:l,options:["IN","NOT IN","AND"].map((e=>((e,t)=>({value:e,label:t}))(e,e))),onChange:e=>{n({...t,operator:e})}})))},qe=({children:e})=>(0,o.createElement)("div",{style:{background:"rgba(0, 0, 0, 0.02)",padding:8,border:"1px solid rgba(0, 0, 0, 0.1)",borderRadius:4,marginBottom:5,marginLeft:-10,marginRight:-10}},e),ze=({taxonomies:e,value:t,onChange:n})=>{const{toggle_AND_description:r,toggle_OR_description:a,btn_add_taxonomy:l,btn_delete_taxonomy:s}=E(),{taxonomies:c=[],relation:i="OR"}=t,u=e=>n(e.taxonomies.length>=1?e:void 0);return(0,o.createElement)("div",null,(0,o.createElement)("div",null,c.map(((n,r)=>(0,o.createElement)(qe,{key:r},(0,o.createElement)(Ve,{taxonomies:e,value:n,onChange:e=>{u({...t,taxonomies:c.map(((t,n)=>r===n?e:t))})}}),(0,o.createElement)(k.Button,{isDestructive:!0,isSmall:!0,onClick:()=>{u({...t,taxonomies:c.map(((e,t)=>t===r?null:e)).filter((e=>null!=e))})}},s)))),c.length>1?(0,o.createElement)("div",{style:{marginTop:10}},(0,o.createElement)(k.ToggleControl,{label:i,help:"AND"===i?r:a,checked:"AND"===i,onChange:e=>{u({...t,relation:e?"AND":"OR"})}})):null),(0,o.createElement)(k.Button,{variant:"secondary",isSmall:!0,onClick:()=>{u({relation:i,taxonomies:[...c,{}]})},style:{width:"100%",textAlign:"center",display:"inline-block"}},l))},Je=({definition:e,value:t,onChange:n})=>{const{label:r,taxonomy:a}=e,[l,s]=(0,_.useState)(""),[c,i]=(0,_.useState)(""),u=Array.isArray(t)?t:void 0!==t?[t]:[],{terms:d,isResolving:p}=Se(a,c),{terms:m,isResolving:f}=je(a,u);(0,_.useEffect)((()=>{let e=setTimeout((()=>{i(l)}),600);return()=>clearTimeout(e)}),[u,l]);const v=u.map((e=>{const t=Me(e,m);return t?t.name:e}));return(0,o.createElement)(k.FormTokenField,{label:r,value:v,onInputChange:e=>{s(e)},suggestions:d.map((e=>e.name)),onChange:e=>{const t=e.map((e=>{const t="string"==typeof e?e:e.value,n=Me(t,d)||Me(t,m);return n?n.id:t}));n(t)}})},We=({label:e,term_id:t,taxonomy:n,onUnlock:r})=>{const{term:a,isResolving:l}=((e,t)=>{const{terms:n,isResolving:r}=je(e,[t]);return{term:1===n.length?n[0]:null,isResolving:r}})(n,t);return(0,o.createElement)(Ee,{label:e,value:a?a.name:l?"...":"?",onUnlock:r})},Xe=({definition:e,value:t,onChange:n})=>{const{label:r,taxonomy:a}=e,l=(e=>(0,_.useCallback)((t=>{const{terms:n,isResolving:r}=Se(e,t);return[n,r]}),[e]))(a);return t?(0,o.createElement)(We,{label:r,term_id:t,taxonomy:a,onUnlock:()=>n("")}):(0,o.createElement)(Pe,{label:r,useCompletion:l,renderItem:e=>(0,o.createElement)("div",{key:e.id,onClick:()=>n(e.id),className:"blockx-taxonomy-term__suggestion"},e.name)})},Qe=({definition:e,value:t,onChange:n})=>{const{label:r,help:a="",rows:l,max_chars:s}=e,c=e=>{"number"==typeof s&&e.length>s||n(e)},i=(u=t.length,"number"!=typeof(d=s)||d<=0?"":`${u}/${d}`);var u,d;return"number"!=typeof l||1===l?(0,o.createElement)(k.TextControl,{label:r,value:t,onChange:c,help:`${i} ${a}`}):(0,o.createElement)(k.TextareaControl,{label:r,value:t,onChange:c,rows:l,help:`${i} ${a}`})},He=(e,t)=>typeof e==typeof{}?t?e.on:e.off:"string"==typeof e?e:null,Ge={},Ke=async e=>{if("string"==typeof e&&0===e.length)return null;if("number"==typeof e&&e<=0)return null;const n=Ge[e];if(typeof n==typeof{}&&void 0!==n.type)return n;const r=await t()({path:"/wp/v2/media/"+e});return typeof r==typeof{}&&r.id===e&&(Ge[e]=r),r},Ye=({type:e="any",isLoading:t=!1,error:n="",children:r})=>{const a=t?"blockx-media-widget__preview--is-loading":"",l=""!==n?"blockx-media-widget__preview--has-error":"";return(0,o.createElement)("div",{className:`blockx-media-widget__preview--item blockx-media-widget__preview--${e} ${a} ${l}`},r,l&&(0,o.createElement)("div",{className:"blockx-media-widget__preview--error"},n))},Ze=({ID:e,minHeight:t,minWidth:n,maxHeight:r,maxWidth:a})=>{const{not_found:l}=w(),{media:s,isLoading:c}=(e=>{const{data:t,error:n}=fe(e,Ke);return{media:t||{},isLoading:!n&&!t}})(e);if(c)return(0,o.createElement)(Ye,{isLoading:!0},(0,o.createElement)("span",{className:"spinner is-active"}));if("image"===s?.media_type){const e=s.media_details.width,c=s.media_details.height;let i=[];return n>0&&e<n&&i.push((0,o.createElement)(o.Fragment,null,`width ${e}px < min width ${n}px`,(0,o.createElement)("br",null))),t>0&&c<t&&i.push((0,o.createElement)(o.Fragment,null,`height ${c}px < min height ${t}px`,(0,o.createElement)("br",null))),a>0&&e>a&&i.push((0,o.createElement)(o.Fragment,null,`width ${e}px > max width ${a}px`,(0,o.createElement)("br",null))),r>0&&c>r&&i.push((0,o.createElement)(o.Fragment,null,`height ${c}px > max height ${r}px`,(0,o.createElement)("br",null))),"image/svg+xml"===s?.mime_type?(0,o.createElement)(Ye,{type:"image",error:i.length?(0,o.createElement)("p",null,i):""},(0,o.createElement)("img",{src:s?.source_url})):s?.media_details?.sizes?.thumbnail?.source_url?(0,o.createElement)(Ye,{type:"image",error:i.length?(0,o.createElement)("p",null,i):""},(0,o.createElement)("img",{src:s.media_details.sizes.thumbnail.source_url})):(0,o.createElement)("span",{className:"blockx-media-widget__404"},l)}if(!s?.source_url)return(0,o.createElement)("span",{className:"blockx-media-widget__404"},l);const i=s?.title?.rendered?s.title.rendered:s.source_url;return(0,o.createElement)(Ye,null,(0,o.createElement)("p",null,(0,o.createElement)("a",{href:s.source_url,target:"_blank"},i)))},et=e=>{const{minWidth:t,maxWidth:n,minHeight:r,maxHeight:a}=e;return t>0||n>0||r>0||a>0?(0,o.createElement)("p",{className:"description"},t>0&&(0,o.createElement)(o.Fragment,null,(0,o.createElement)("span",null,"Min width: ",t,"px"),(0,o.createElement)("br",null)),n>0&&(0,o.createElement)(o.Fragment,null,(0,o.createElement)("span",null,"Max width: ",n,"px"),(0,o.createElement)("br",null)),r>0&&(0,o.createElement)(o.Fragment,null,(0,o.createElement)("span",null,"Min height: ",r,"px"),(0,o.createElement)("br",null)),a>0&&(0,o.createElement)(o.Fragment,null,(0,o.createElement)("span",null,"Max height: ",a,"px"),(0,o.createElement)("br",null))):null};var tt=n(2222),nt=n.n(tt);const rt=({label:e,value:t,isLoading:n,items:r,onChange:a,renderItem:l})=>{const[s,c]=(0,_.useState)(!1);return ye((()=>{c(!1)}),[s],s),(0,o.createElement)(Te,{label:e,value:t,onChange:a,onFocus:()=>c(!0),showPopover:r.length>0&&s,isLoading:n},r.map((e=>l(e,(()=>c(!1))))))},ot=({definition:e,value:t,savedState:n,onChange:r,renderItem:a})=>{const{label:l,key:s,parentPath:c}=e,{setQuery:i,results:u,isLoading:d}=(e=>{const{blockId:t}=be(),[n,r]=(0,_.useState)(""),o=he(n,600),{data:a,error:l}=fe(""!==n?[e,t,o]:null,Ae);return{setQuery:r,results:a||[],isLoading:!l&&!a&&""!==n,isError:l}})(`${c}${s}`);(0,_.useEffect)((()=>{"string"==typeof t&&""!==t&&t!==n&&i(t)}),[t,n]);const p="function"==typeof a?a:(e,t)=>(0,o.createElement)("div",{key:e.value,onClick:()=>{r(e.value),t()},className:"blockx-auto-suggest__suggestion"},e.label,e.label!==e.value?(0,o.createElement)(o.Fragment,null,(0,o.createElement)("br",null),(0,o.createElement)("i",{className:"description"},e.value)):null);return(0,o.createElement)(rt,{label:l,value:t,items:u,isLoading:d,onChange:r,renderItem:p})},at=({value:e,label:t,onClick:n})=>(0,o.createElement)("div",{className:"blockx-auto-complete__suggestion",onClick:n},t,(0,o.createElement)("br",null),(0,o.createElement)("i",{className:"description"},e)),lt=({label:e,widgetKeyFullPath:t,onFound:n})=>{const r=(e=>(0,_.useCallback)((t=>{const{items:n,isLoading:r}=Ne(t,e);return[n,r]}),[e]))(t);return(0,o.createElement)(Pe,{label:e,useCompletion:r,renderItem:e=>(0,o.createElement)(at,{key:e.value,...e,onClick:()=>n(e.value)}),messageNothingFound:"Nothing found."})},st=({label:e,value:t,onUnlock:n,widgetKeyFullPath:r})=>{const{items:a}=Ne(t,r),l=a.length>0?a[0].label:t;return(0,o.createElement)(Ee,{label:e,value:l,onUnlock:n})},ct={text:Qe,textarea:e=>(0,o.createElement)(Qe,{...e}),number:({definition:e,value:t,onChange:n})=>(0,o.createElement)(k.TextControl,{label:e.label,value:t,onChange:t=>{""===t&&e.min?n(e.min):t&&e.max&&t>e.max?n(e.max):t&&e.min&&t<e.min?n(e.min):n(t)},type:"number",help:e.help}),toggle:({definition:e,value:t,onChange:n})=>{const{label:r,help:a}=e;return(0,o.createElement)(k.ToggleControl,{label:He(r,t),help:He(a,t),checked:t,onChange:n})},select:({definition:e,value:t,onChange:n})=>{const{label:r,options:a}=e;return(0,o.createElement)(k.SelectControl,{label:r,value:t,onChange:n,options:a,multiple:e.multiple})},taxonomy_term:({definition:e,value:t,onChange:n})=>{const{multiple:r=!1}=e;return r?(0,o.createElement)(Je,{definition:e,value:t,onChange:n}):(0,o.createElement)(Xe,{definition:e,value:t,onChange:n})},tax_query:({definition:e,value:t,onChange:n})=>(0,o.createElement)(k.BaseControl,{label:e.label},(0,o.createElement)(ze,{taxonomies:e.taxonomies,value:t,onChange:n})),post:({definition:e,value:t,onChange:n,instance:r})=>t?(0,o.createElement)(Le,{label:e.label,post_id:t,onUnlock:()=>n("")}):(0,o.createElement)($e,{label:e.label,post_types:e.post_types,post_status:e.post_status,use_context:e.use_context,instance:r,onFound:n}),user:({definition:e,value:t,onChange:n,instance:r})=>t?(0,o.createElement)(Ue,{label:e.label,user_id:t,onUnlock:()=>n("")}):(0,o.createElement)(De,{label:e.label,roles:e.roles,use_context:e.use_context,instance:r,onFound:n}),hidden:()=>null,divider:()=>(0,o.createElement)("hr",null),info:({definition:e})=>(0,o.createElement)("p",{className:"description blockx-info-widget",dangerouslySetInnerHTML:{__html:e.text}}),readonly:({definition:e,value:t})=>(0,o.createElement)(k.TextControl,{label:e.label,type:"text",readOnly:!0,value:t,help:e.help}),media:({definition:e,value:t,onChange:n})=>{const{label:r,mediaTypes:a,multiple:l,mediaUploadTitle:c}=e,{no_permission:i}=w(),u=Array.isArray(t)&&t.length>0||""!==t,d=!u;return(0,o.createElement)("div",{className:"blockx-media-widget "+(l?"blockx-media-widget__multiple":"")},(0,o.createElement)(s.MediaUploadCheck,{fallback:(0,o.createElement)("p",null,"$",i)},(0,o.createElement)("div",{className:"blockx-media-widget__control"},(0,o.createElement)(s.MediaUpload,{title:c.length>0?c:void 0,allowedTypes:a.length>0?a:void 0,multiple:l,gallery:!1,value:t,onSelect:e=>{Array.isArray(e)?n(e.map((e=>e.id))):n(e.id)},render:({open:e})=>(0,o.createElement)(k.Button,{isSecondary:!0,onClick:()=>e()},r)}),u&&(0,o.createElement)(k.Button,{icon:"trash",className:"blockx-media-widget__btn-clear",onClick:()=>{Array.isArray(t)?n([]):n("")}})),d&&(0,o.createElement)(et,{...e}),(0,o.createElement)("div",{className:"blockx-media-widget__preview"},Array.isArray(t)?t.map((t=>(0,o.createElement)(Ze,{key:t,...e,ID:t}))):t?(0,o.createElement)(Ze,{ID:t,...e}):null)))},url:e=>{const{onChange:t}=e;return(0,o.createElement)(ot,{...e,renderItem:(e,n)=>(0,o.createElement)("div",{key:e.value,onClick:()=>{t(e.value),n()},className:"blockx-url__suggestion"},e.label,(0,o.createElement)("br",null),(0,o.createElement)("i",null,e.value))})},auto_suggest:ot,auto_complete:function({definition:e,value:t,onChange:n}){const{label:r,key:a,parentPath:l}=e;return t?(0,o.createElement)(st,{widgetKeyFullPath:`${l}${a}`,label:r,value:t,onUnlock:()=>n("")}):(0,o.createElement)(lt,{label:r,widgetKeyFullPath:`${l}${a}`,onFound:n})},list_of:({definition:e,value:t,savedState:n,onChange:r})=>{const{label:a,key:l,parentPath:s,max_items:c=0,min_items:i=0}=e,u=c===i&&i>0,d=(n="bottom")=>()=>{const o={};e.contentStructure.forEach((t=>{o[t.key]=e?.defaultValues[t.key]})),r("top"===n?[o,...t]:[...t,o])};(0,_.useEffect)((()=>{if(t.length>=i)return;const n=Array.from(Array(i-t.length).keys()).map((t=>{const n={};return e.contentStructure.forEach((t=>{n[t.key]=structuredClone(e?.defaultValues[t.key])})),n}));r([...t,...n])}),[i,t.length]);const p=(e,n)=>{r(t.map(((r,o)=>o===e?{...t[n]}:o===n?{...t[e]}:r)))};return(0,o.createElement)(k.BaseControl,{id:"blockx-list-of-widget",className:"blockx-list-of-widget",label:a},!u&&t.length>0?(0,o.createElement)("div",{className:"blockx-list-of-widget__control"},(0,o.createElement)(k.Button,{icon:"plus",variant:"secondary",isSmall:!0,disabled:c>0&&t.length>=c,onClick:d("top"),label:"Add item "+(c>0?`${Math.min(t.length+1,c)}/${c}`:"")},"Add item ",c>0?`${Math.min(t.length+1,c)}/${c}`:null)):null,(0,o.createElement)("div",{className:"blockx-list-of-widget__body"},t.map(((a,c)=>{const d=Array.isArray(n)&&n.length>c?n[c]:void 0;return(0,o.createElement)("div",{className:"blockx-list-of-widget__item","data-number-of-widgets":e.contentStructure.length,key:c},(0,o.createElement)("p",{className:"blockx-list-of-widget__item-position"},c+1,"/",t.length),(0,o.createElement)(it,{items:e.contentStructure,value:a,savedState:d,parentPath:s+l+".",onChange:(e,n)=>((e,n,o)=>{const a=nt()(t);a[e][n]=o,r(a)})(c,e,n)}),(0,o.createElement)("div",{className:"blockx-list-of-widget__item--control"},(0,o.createElement)("div",{className:"blockx-list-of-widget__item--control-move"},(0,o.createElement)(k.Button,{icon:"arrow-up",variant:"secondary",isSmall:!0,disabled:0===c,onClick:()=>(e=>p(e,e-1))(c),label:"Move item up"}),(0,o.createElement)(k.Button,{icon:"arrow-down",variant:"secondary",isSmall:!0,disabled:c>=t.length-1,onClick:()=>(e=>p(e,e+1))(c),label:"Move item down"})),u?null:(0,o.createElement)(k.Button,{icon:"trash",variant:"secondary",isDestructive:!0,isSmall:!0,disabled:t.length<=i,onClick:()=>(e=>{r(t.filter(((t,n)=>n!==e)))})(c),label:"Delete item"})))}))),u?null:(0,o.createElement)("div",{className:"blockx-list-of-widget__control"},(0,o.createElement)(k.Button,{icon:"plus",variant:"secondary",isSmall:!0,disabled:c>0&&t.length>=c,onClick:d("bottom"),label:"Add item "+(c>0?`${Math.min(t.length+1,c)}/${c}`:"")},"Add item ",c>0?`${Math.min(t.length+1,c)}/${c}`:null),(0,o.createElement)(k.Button,{icon:"trash",variant:"secondary",isDestructive:!0,isSmall:!0,disabled:t.length<=i,onClick:()=>{r(t.splice(0,i))}},"All")))}},it=({items:e,value:t,savedState:n={},onChange:r,parentPath:a=""})=>e.map(((e,l)=>{var s;const c=null!==(i=e.type,s=window?.BlockXComponents?.widgets?.[i])&&void 0!==s?s:ct[e.type];var i;if(void 0!==c){const s=c,i=void 0!==t[e.key]?t[e.key]:e.defaultValue,u=void 0!==n[e.key]?n[e.key]:void 0;return(0,o.createElement)(s,{key:`${l}-${e.key}`,definition:{...e,parentPath:a},value:i,savedState:u,onChange:t=>r(e.key,t)})}return(0,o.createElement)("p",{key:e.key},"Type ",(0,o.createElement)("b",null,e.type)," not implemented")})),ut=({definition:e,content:t,setContent:n})=>{const{btn_apply_changes:r}=x(),{localChanges:a,changeLocalState:l}=be(),s=[];let c={label:void 0,opened:void 0,contentStructure:[]};for(const t of e)"panel"!==t.type?c.contentStructure.push(t):(c.contentStructure.length&&s.push({...c}),s.push({label:t.label,opened:t.opened,contentStructure:t.contentStructure}),c.contentStructure=[]);return c.contentStructure.length>0&&s.push(c),(0,o.createElement)(o.Fragment,null,s.map(((e,n)=>(0,o.createElement)(k.PanelBody,{key:n,title:e.label,initialOpen:e.opened},(0,o.createElement)(it,{items:e.contentStructure,value:{...t,...a},savedState:t,onChange:l})))),(0,o.createElement)(k.PanelBody,null,(0,o.createElement)(k.Button,{variant:"secondary",disabled:0===Object.keys(a).length,onClick:()=>{n({...t,...a})}},r)))},{getBlockContext:dt}=n(7828),pt=({blockId:e,contentStructure:t,defaultValues:n,attributes:r,content:a,setContent:l,changeLocalState:s,localChanges:c,children:i})=>{const u=dt();return(0,o.createElement)(u.Provider,{value:{blockId:e,contentStructure:t,defaultValues:n,attributes:r,content:a,setContent:l,changeLocalState:s,localChanges:c,dirtyState:{...a,...c}}},i)},mt=window.wp.i18n,ft="blockx-ssr-cache",vt="blockx-ssr-cache-timestamps",gt=()=>JSON.parse(localStorage.getItem(vt)||"{}"),bt=e=>localStorage.setItem(vt,JSON.stringify(e)),ht=(e,t=300)=>{const n=gt(),r=Date.now();for(const o in e)n[o]=r+1e3*t;bt(n),localStorage.setItem(ft,JSON.stringify(e))},yt=()=>JSON.parse(localStorage.getItem(ft)||"{}"),_t=gt(),kt=Date.now();for(const e in _t)_t[e]<kt&&delete _t[e],bt(_t);const xt=Object.keys(_t),Et=yt();for(const e in Et)xt.includes(e)||delete Et[e];ht(Et);const wt=(e,t)=>`${e}-${JSON.stringify(t)}`.replaceAll('"',"").replaceAll("{","(").replaceAll("}",")"),St={isRequesting:!1,blocks:yt(),queue:{}},jt="SET_IS_REQUESTING",Ct=e=>({type:jt,isRequesting:e}),Ot="ADD_TO_QUEUE",Bt="REMOVE_FROM_QUEUE",It="SET_BLOCKS",At={addToQueue:(e,t)=>{const n={id:e,attributes:t};return((e,t)=>({type:Ot,hash:e,block:t}))(wt(e,t),n)},*fetchSSR(e){const t=(0,a.select)(Nt).getQueueMap();if(Object.keys(t).length<1)return{type:"none"};yield Ct(!0);const n=yield((e,t)=>({type:"SSR_FETCH",path:"/blockx/v1/ssr",data:{post_id:e,blocks:t}}))(e,t);var r,o;return yield(r=n,{type:It,blocks:r}),yield(o=Object.keys(t),{type:Bt,hashes:o}),Ct(!1)}},Nt="block-x",Tt=(0,a.createReduxStore)(Nt,{reducer(e=St,t){switch(t.type){case jt:return{...e,isRequesting:t.isRequesting};case It:const n={...e.blocks,...t.blocks};return ht(n),{...e,blocks:n};case Ot:return{...e,queue:{...e.queue,[t.hash]:t.block}};case Bt:const r=Object.keys(e.queue).filter((e=>!t.hashes.includes(e))),o={};return r.forEach((t=>{o[t]=e.queue[t]})),{...e,queue:o}}return e},actions:At,selectors:{isRequesting:(e,t,n)=>void 0===t||void 0===n?e.isRequesting:e.isRequesting&&void 0!==e.queue[wt(t,n)],isInQueue:(e,t,n)=>void 0!==e.queue[wt(t,n)],getQueueMap:e=>e.queue,getQueue:e=>Object.values(e.queue),getBlocks:e=>e.blocks,getBlock(e,t,n){const r=wt(t,n);return e.blocks[r]}},controls:{SSR_FETCH:e=>t()({path:e.path,data:e.data,method:"POST"})}});(0,a.register)(Tt);const Pt=(e,t=[])=>(0,a.useSelect)((t=>e(t(Nt))),t),Rt=({isLoading:e,children:t})=>(0,o.createElement)("div",{className:"blockx--ssr__wrapper"},t,e&&(0,o.createElement)("span",{className:"loader"},(0,o.createElement)(k.Spinner,null))),$t=({block:e,content:t,attributes:n})=>{void 0===n&&(console.warn("Using content attribute with ServerSideRenderQueue is deprecated. Please provide the complete attribute object of the block."),n={content:t});const r=((e,t)=>{const n=Pt((n=>n.getBlock(e,t)),[e,t]),r=(0,a.useDispatch)(Nt);return(0,_.useEffect)((()=>{r.addToQueue(e,t)}),[e,JSON.stringify(t)]),n})(e,n),l=((e,t)=>Pt((n=>n.isRequesting(e,t)),[e,t]))(e,n),s=((e,t)=>Pt((n=>n.isInQueue(e,t)),[e,t]))(e,n),c=l||s;if(!1===r)return(0,o.createElement)(Rt,{isLoading:c},";",(0,o.createElement)(k.Placeholder,null,(0,mt.sprintf)((0,mt.__)("Error loading block: %s"),e)));if(void 0===r){const e=(0,mt.__)("Block rendered as empty.");return(0,o.createElement)(Rt,{isLoading:c},(0,o.createElement)(k.Placeholder,null,c?(0,mt.__)("Loading"):e))}return(0,o.createElement)(Rt,{isLoading:c},(0,o.createElement)(_.RawHTML,{key:"html"},r))},Lt=(e,t)=>{const n=BlockX.settings.auto_save_timeout;(0,_.useEffect)((()=>{let r=null;return 0!==Object.keys(t).length&&n>100&&(r=setTimeout((()=>{e()}),n)),()=>clearTimeout(r)}),[JSON.stringify(t)])},Ft=(e,t,n)=>{window.BlockXComponents={...window.BlockXComponents||{},[e]:{...window.BlockXComponents?.[e]||{},[t]:n}}},Dt=(e,t)=>{window.BlockXComponents={...window.BlockXComponents||{},[e]:t}},Ut=e=>`${e.namespace}/${e.name}`,Mt=e=>{const t=e.split("/");if(!(t.length<2))return{namespace:t[0],name:t[1]}},Vt=e=>{var t,n;return null!==("editorViews",n=Ut(e),t=window?.BlockXComponents?.editorViews?.[n])&&void 0!==t?t:(e=>{var t;const n=null!==(t=window?.BlockXComponents)&&void 0!==t?t:{};if(null!=n[e])return(e=>{console.warn("BlockX - DEPRECATION WARNING: for '"+e+"' please use @palasthotel/blockx utils for blockx custom javascripts. All other registrations will break with BlockX Version 2.0")})(e),n?.[e]})(Ut(e))};var qt,zt;Ft("utils","ssrq",qt=$t),Dt("ServerSideRenderQueue",qt),Ft("utils","useBlock",zt=be),Dt("useBlock",zt);for(const e of BlockX.blocks){const{id:t,title:n,category:a,registerBlockTypeArgs:c,contentStructure:i}=e,u={};for(const{defaultValue:e,key:t,options:n}of i)void 0!==e?u[t]=e:typeof n==typeof[]&&n.length>0&&"string"==typeof n[0].value&&(u[t]=n[0].value);(0,r.registerBlockType)(t,{...c,edit:e=>{var n,r,a,c;const{className:d,setAttributes:p,attributes:m}=e,f=(0,s.useBlockProps)(),[v,g]=(0,_.useState)({}),b=(e,t)=>{g((n=>({...n,[e]:t})))};(0,_.useEffect)((()=>{h({...u,...m.content,...v})}),[]),Lt((()=>{h({...m.content,...v})}),v);const h=e=>{JSON.stringify(e)!==JSON.stringify(m.content)&&(p({content:e}),g({}))},y=Mt(t),k=void 0===y?$t:null!==(n=Vt(y))&&void 0!==n?n:$t,x=l();return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(s.InspectorControls,null,(0,o.createElement)(pt,{blockId:t,contentStructure:i,defaultValues:u,attributes:m,content:m.content,setContent:h,changeLocalState:b,localChanges:v},(0,o.createElement)(ut,{definition:i,content:m.content,setContent:h}))),(0,o.createElement)("div",{...f,className:`${null!==(r=f.className)&&void 0!==r?r:""} preview-mode-${x.toLowerCase()}`},(0,o.createElement)(pt,{blockId:t,contentStructure:i,defaultValues:u,attributes:m,content:null!==(a=m.content)&&void 0!==a?a:u,setContent:h,changeLocalState:b,localChanges:v},(0,o.createElement)(k,{block:t,attributes:m,content:null!==(c=m.content)&&void 0!==c?c:u}))))}})}setInterval((()=>{const e=(0,a.select)(Nt);e.isRequesting()||e.getQueue().length<1||(0,a.dispatch)(Nt).fetchSSR((0,a.select)("core/editor").getCurrentPostId())}),300),t().use(((e,t)=>(e.headers={...e.headers||{},"Block-X-Editor":!0},t(e))))})()})();