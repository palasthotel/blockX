!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=122)}([function(e,t){e.exports=window.wp.element},function(e,t){e.exports=window.wp.components},function(e,t){e.exports=window.React},function(e,t){e.exports=window.wp.data},function(e,t){e.exports=window.wp.apiFetch},function(e,t,n){var r=n(34),o="object"==typeof self&&self&&self.Object===Object&&self,c=r||o||Function("return this")();e.exports=c},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,n.apply(this,arguments)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var r=n(62),o=n(68);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t){e.exports=window.wp.blockEditor},function(e,t){e.exports=window.wp.i18n},function(e,t,n){var r=n(52),o=n(53),c=n(54),i=n(55),a=n(56);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=c,u.prototype.has=i,u.prototype.set=a,e.exports=u},function(e,t,n){var r=n(32);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(20),o=n(64),c=n(65),i=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?o(e):c(e)}},function(e,t,n){var r=n(7)(Object,"create");e.exports=r},function(e,t,n){var r=n(78);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){var r=n(36),o=n(37);e.exports=function(e,t,n,c){var i=!n;n||(n={});for(var a=-1,u=t.length;++a<u;){var l=t[a],s=c?c(n[l],e[l],l,n,e):void 0;void 0===s&&(s=e[l]),i?o(n,l,s):r(n,l,s)}return n}},function(e,t,n){"use strict";n.r(t),n.d(t,"STORE_NAME",(function(){return y}));var r=n(4),o=n.n(r),c=n(3);const i=()=>JSON.parse(localStorage.getItem("blockx-ssr-cache-timestamps")||"{}"),a=e=>localStorage.setItem("blockx-ssr-cache-timestamps",JSON.stringify(e)),u=(e,t=300)=>{const n=i(),r=Date.now();for(const o in e)n[o]=r+1e3*t;a(n),localStorage.setItem("blockx-ssr-cache",JSON.stringify(e))},l=()=>JSON.parse(localStorage.getItem("blockx-ssr-cache")||"{}"),s=i(),f=Date.now();for(const e in s)s[e]<f&&delete s[e],a(s);const p=Object.keys(s),d=l();for(const e in d)p.includes(e)||delete d[e];u(d);const b=(e,t)=>btoa(`${e}-${unescape(encodeURIComponent(JSON.stringify(t)))}`),v={isRequesting:!1,blocks:l(),queue:{}},m=e=>({type:"SET_IS_REQUESTING",isRequesting:e}),h={addToQueue:(e,t)=>{const n={id:e,attributes:t};return((e,t)=>({type:"ADD_TO_QUEUE",hash:e,block:t}))(b(e,t),n)},*fetchSSR(e){const t=Object(c.select)(y).getQueueMap();if(Object.keys(t).length<1)return{type:"none"};yield m(!0);const n=yield((e,t)=>({type:"SSR_FETCH",path:"/blockx/v1/ssr",data:{post_id:e,blocks:t}}))(e,t);var r,o;return yield(r=n,{type:"SET_BLOCKS",blocks:r}),yield(o=Object.keys(t),{type:"REMOVE_FROM_QUEUE",hashes:o}),m(!1)}},y="block-x",g=Object(c.createReduxStore)(y,{reducer(e=v,t){switch(t.type){case"SET_IS_REQUESTING":return{...e,isRequesting:t.isRequesting};case"SET_BLOCKS":const n={...e.blocks,...t.blocks};return u(n),{...e,blocks:n};case"ADD_TO_QUEUE":return{...e,queue:{...e.queue,[t.hash]:t.block}};case"REMOVE_FROM_QUEUE":return{...e,queue:Object.keys(e.queue).filter(e=>!t.hashes.includes(e)).map(t=>e.queue[t])}}return e},actions:h,selectors:{isRequesting:(e,t,n)=>void 0===t||void 0===n?e.isRequesting:e.isRequesting&&void 0!==e.queue[b(t,n)],isInQueue:(e,t,n)=>void 0!==e.queue[b(t,n)],getQueueMap:e=>e.queue,getQueue:e=>Object.values(e.queue),getBlocks:e=>e.blocks,getBlock:(e,t,n)=>e.blocks[b(t,n)]},controls:{SSR_FETCH:e=>o()({path:e.path,data:e.data,method:"POST"})}});Object(c.register)(g)},function(e,t,n){var r=n(7)(n(5),"Map");e.exports=r},function(e,t,n){var r=n(5).Symbol;e.exports=r},function(e,t,n){var r=n(38),o=n(92),c=n(42);e.exports=function(e){return c(e)?r(e):o(e)}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(34),o=t&&!t.nodeType&&t,c=o&&"object"==typeof e&&e&&!e.nodeType&&e,i=c&&c.exports===o&&r.process,a=function(){try{return c&&c.require&&c.require("util").types||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=a}).call(this,n(23)(e))},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(38),o=n(95),c=n(42);e.exports=function(e){return c(e)?r(e,!0):o(e)}},function(e,t,n){var r=n(100),o=n(43),c=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(e){return null==e?[]:(e=Object(e),r(i(e),(function(t){return c.call(e,t)})))}:o;e.exports=a},function(e,t,n){var r=n(104),o=n(19),c=n(105),i=n(106),a=n(107),u=n(14),l=n(35),s=l(r),f=l(o),p=l(c),d=l(i),b=l(a),v=u;(r&&"[object DataView]"!=v(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=v(new o)||c&&"[object Promise]"!=v(c.resolve())||i&&"[object Set]"!=v(new i)||a&&"[object WeakMap]"!=v(new a))&&(v=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?l(n):"";if(r)switch(r){case s:return"[object DataView]";case f:return"[object Map]";case p:return"[object Promise]";case d:return"[object Set]";case b:return"[object WeakMap]"}return t}),e.exports=v},function(e,t,n){var r=n(110);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t,n){"use strict";n.r(t),n.d(t,"getBlockContext",(function(){return o}));const r={},o=()=>((e,t="")=>(void 0===r[e]&&(r[e]=React.createContext(t)),r[e]))("block")},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(14),o=n(8);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(63))},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,n){var r=n(37),o=n(32),c=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var i=e[t];c.call(e,t)&&o(i,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){var r=n(83);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){var r=n(85),o=n(86),c=n(22),i=n(39),a=n(89),u=n(90),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=c(e),s=!n&&o(e),f=!n&&!s&&i(e),p=!n&&!s&&!f&&u(e),d=n||s||f||p,b=d?r(e.length,String):[],v=b.length;for(var m in e)!t&&!l.call(e,m)||d&&("length"==m||f&&("offset"==m||"parent"==m)||p&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||a(m,v))||b.push(m);return b}},function(e,t,n){(function(e){var r=n(5),o=n(88),c=t&&!t.nodeType&&t,i=c&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===c?r.Buffer:void 0,u=(a?a.isBuffer:void 0)||o;e.exports=u}).call(this,n(23)(e))},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(33),o=n(40);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(45),o=n(46),c=n(28),i=n(43),a=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,c(e)),e=o(e);return t}:i;e.exports=a},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},function(e,t,n){var r=n(41)(Object.getPrototypeOf,Object);e.exports=r},function(e,t,n){var r=n(45),o=n(22);e.exports=function(e,t,n){var c=t(e);return o(e)?c:r(c,n(e))}},function(e,t){e.exports=window.wp.blocks},function(e,t,n){var r=n(50);e.exports=function(e){return r(e,5)}},function(e,t,n){var r=n(51),o=n(82),c=n(36),i=n(84),a=n(94),u=n(97),l=n(98),s=n(99),f=n(101),p=n(102),d=n(103),b=n(29),v=n(108),m=n(109),h=n(115),y=n(22),g=n(39),j=n(117),O=n(8),x=n(119),_=n(21),E=n(27),w={};w["[object Arguments]"]=w["[object Array]"]=w["[object ArrayBuffer]"]=w["[object DataView]"]=w["[object Boolean]"]=w["[object Date]"]=w["[object Float32Array]"]=w["[object Float64Array]"]=w["[object Int8Array]"]=w["[object Int16Array]"]=w["[object Int32Array]"]=w["[object Map]"]=w["[object Number]"]=w["[object Object]"]=w["[object RegExp]"]=w["[object Set]"]=w["[object String]"]=w["[object Symbol]"]=w["[object Uint8Array]"]=w["[object Uint8ClampedArray]"]=w["[object Uint16Array]"]=w["[object Uint32Array]"]=!0,w["[object Error]"]=w["[object Function]"]=w["[object WeakMap]"]=!1,e.exports=function e(t,n,k,S,C,A){var I,T=1&n,R=2&n,N=4&n;if(k&&(I=C?k(t,S,C,A):k(t)),void 0!==I)return I;if(!O(t))return t;var P=y(t);if(P){if(I=v(t),!T)return l(t,I)}else{var F=b(t),D="[object Function]"==F||"[object GeneratorFunction]"==F;if(g(t))return u(t,T);if("[object Object]"==F||"[object Arguments]"==F||D&&!C){if(I=R||D?{}:h(t),!T)return R?f(t,a(I,t)):s(t,i(I,t))}else{if(!w[F])return C?t:{};I=m(t,F,T)}}A||(A=new r);var L=A.get(t);if(L)return L;A.set(t,I),x(t)?t.forEach((function(r){I.add(e(r,n,k,r,t,A))})):j(t)&&t.forEach((function(r,o){I.set(o,e(r,n,k,o,t,A))}));var B=P?void 0:(N?R?d:p:R?E:_)(t);return o(B||t,(function(r,o){B&&(r=t[o=r]),c(I,o,e(r,n,k,o,t,A))})),I}},function(e,t,n){var r=n(12),o=n(57),c=n(58),i=n(59),a=n(60),u=n(61);function l(e){var t=this.__data__=new r(e);this.size=t.size}l.prototype.clear=o,l.prototype.delete=c,l.prototype.get=i,l.prototype.has=a,l.prototype.set=u,e.exports=l},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(13),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():o.call(t,n,1),--this.size,0))}},function(e,t,n){var r=n(13);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(13);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(13);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},function(e,t,n){var r=n(12);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(12),o=n(19),c=n(69);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var i=n.__data__;if(!o||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new c(i)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var r=n(33),o=n(66),c=n(8),i=n(35),a=/^\[object .+?Constructor\]$/,u=Function.prototype,l=Object.prototype,s=u.toString,f=l.hasOwnProperty,p=RegExp("^"+s.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!c(e)||o(e))&&(r(e)?p:a).test(i(e))}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(20),o=Object.prototype,c=o.hasOwnProperty,i=o.toString,a=r?r.toStringTag:void 0;e.exports=function(e){var t=c.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(e){}var o=i.call(e);return r&&(t?e[a]=n:delete e[a]),o}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r,o=n(67),c=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!c&&c in e}},function(e,t,n){var r=n(5)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(70),o=n(77),c=n(79),i=n(80),a=n(81);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=c,u.prototype.has=i,u.prototype.set=a,e.exports=u},function(e,t,n){var r=n(71),o=n(12),c=n(19);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(c||o),string:new r}}},function(e,t,n){var r=n(72),o=n(73),c=n(74),i=n(75),a=n(76);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=o,u.prototype.get=c,u.prototype.has=i,u.prototype.set=a,e.exports=u},function(e,t,n){var r=n(15);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(15),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(15),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},function(e,t,n){var r=n(15);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,n){var r=n(16);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(16);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(16);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(16);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){var r=n(7),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},function(e,t,n){var r=n(17),o=n(21);e.exports=function(e,t){return e&&r(t,o(t),e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(87),o=n(9),c=Object.prototype,i=c.hasOwnProperty,a=c.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return o(e)&&i.call(e,"callee")&&!a.call(e,"callee")};e.exports=u},function(e,t,n){var r=n(14),o=n(9);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},function(e,t){e.exports=function(){return!1}},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var r=n(91),o=n(24),c=n(25),i=c&&c.isTypedArray,a=i?o(i):r;e.exports=a},function(e,t,n){var r=n(14),o=n(40),c=n(9),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,e.exports=function(e){return c(e)&&o(e.length)&&!!i[r(e)]}},function(e,t,n){var r=n(26),o=n(93),c=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))c.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){var r=n(41)(Object.keys,Object);e.exports=r},function(e,t,n){var r=n(17),o=n(27);e.exports=function(e,t){return e&&r(t,o(t),e)}},function(e,t,n){var r=n(8),o=n(26),c=n(96),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return c(e);var t=o(e),n=[];for(var a in e)("constructor"!=a||!t&&i.call(e,a))&&n.push(a);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){(function(e){var r=n(5),o=t&&!t.nodeType&&t,c=o&&"object"==typeof e&&e&&!e.nodeType&&e,i=c&&c.exports===o?r.Buffer:void 0,a=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=a?a(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(23)(e))},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t,n){var r=n(17),o=n(28);e.exports=function(e,t){return r(e,o(e),t)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,c=[];++n<r;){var i=e[n];t(i,n,e)&&(c[o++]=i)}return c}},function(e,t,n){var r=n(17),o=n(44);e.exports=function(e,t){return r(e,o(e),t)}},function(e,t,n){var r=n(47),o=n(28),c=n(21);e.exports=function(e){return r(e,c,o)}},function(e,t,n){var r=n(47),o=n(44),c=n(27);e.exports=function(e){return r(e,c,o)}},function(e,t,n){var r=n(7)(n(5),"DataView");e.exports=r},function(e,t,n){var r=n(7)(n(5),"Promise");e.exports=r},function(e,t,n){var r=n(7)(n(5),"Set");e.exports=r},function(e,t,n){var r=n(7)(n(5),"WeakMap");e.exports=r},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},function(e,t,n){var r=n(30),o=n(111),c=n(112),i=n(113),a=n(114);e.exports=function(e,t,n){var u=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new u(+e);case"[object DataView]":return o(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return a(e,n);case"[object Map]":return new u;case"[object Number]":case"[object String]":return new u(e);case"[object RegExp]":return c(e);case"[object Set]":return new u;case"[object Symbol]":return i(e)}}},function(e,t,n){var r=n(5).Uint8Array;e.exports=r},function(e,t,n){var r=n(30);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,n){var r=n(20),o=r?r.prototype:void 0,c=o?o.valueOf:void 0;e.exports=function(e){return c?Object(c.call(e)):{}}},function(e,t,n){var r=n(30);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var r=n(116),o=n(46),c=n(26);e.exports=function(e){return"function"!=typeof e.constructor||c(e)?{}:r(o(e))}},function(e,t,n){var r=n(8),o=Object.create,c=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=c},function(e,t,n){var r=n(118),o=n(24),c=n(25),i=c&&c.isMap,a=i?o(i):r;e.exports=a},function(e,t,n){var r=n(29),o=n(9);e.exports=function(e){return o(e)&&"[object Map]"==r(e)}},function(e,t,n){var r=n(120),o=n(24),c=n(25),i=c&&c.isSet,a=i?o(i):r;e.exports=a},function(e,t,n){var r=n(29),o=n(9);e.exports=function(e){return o(e)&&"[object Set]"==r(e)}},function(e,t,n){const{select:r,dispatch:o}=n(3),{STORE_NAME:c}=n(18);setInterval(()=>{const e=r(c);e.isRequesting()||e.getQueue().length<1||o(c).fetchSSR(r("core/editor").getCurrentPostId())},300)},function(e,t,n){"use strict";n.r(t);var r=n(4),o=n.n(r),c=n(0),i=n(48),a=n(10),u=n(1);const l=e=>"string"==typeof e?BlockX.i18n[e]:BlockX.i18n,s=()=>l("widget_tax_query"),f=()=>l("widget_media");var p=n(6),d=n.n(p),b=n(2),v=Object.prototype.hasOwnProperty,m=new WeakMap,h=0,y=function(){function e(e){void 0===e&&(e={}),this.cache=new Map(Object.entries(e)),this.subs=[]}return e.prototype.get=function(e){var t=this.serializeKey(e)[0];return this.cache.get(t)},e.prototype.set=function(e,t){var n=this.serializeKey(e)[0];this.cache.set(n,t),this.notify()},e.prototype.keys=function(){return Array.from(this.cache.keys())},e.prototype.has=function(e){var t=this.serializeKey(e)[0];return this.cache.has(t)},e.prototype.clear=function(){this.cache.clear(),this.notify()},e.prototype.delete=function(e){var t=this.serializeKey(e)[0];this.cache.delete(t),this.notify()},e.prototype.serializeKey=function(e){var t=null;if("function"==typeof e)try{e=e()}catch(t){e=""}return Array.isArray(e)?(t=e,e=function(e){if(!e.length)return"";for(var t="arg",n=0;n<e.length;++n)if(null!==e[n]){var r=void 0;"object"!=typeof e[n]&&"function"!=typeof e[n]?r="string"==typeof e[n]?'"'+e[n]+'"':String(e[n]):m.has(e[n])?r=m.get(e[n]):(r=h,m.set(e[n],h++)),t+="@"+r}else t+="@null";return t}(e)):e=String(e||""),[e,t,e?"err@"+e:"",e?"validating@"+e:""]},e.prototype.subscribe=function(e){var t=this;if("function"!=typeof e)throw new Error("Expected the listener to be a function.");var n=!0;return this.subs.push(e),function(){if(n){n=!1;var r=t.subs.indexOf(e);r>-1&&(t.subs[r]=t.subs[t.subs.length-1],t.subs.length--)}}},e.prototype.notify=function(){for(var e=0,t=this.subs;e<t.length;e++)(0,t[e])()},e}(),g=!0,j={isOnline:function(){return g},isDocumentVisible:function(){return"undefined"==typeof document||void 0===document.visibilityState||"hidden"!==document.visibilityState},fetcher:function(e){return fetch(e).then((function(e){return e.json()}))},registerOnFocus:function(e){"undefined"!=typeof window&&void 0!==window.addEventListener&&"undefined"!=typeof document&&void 0!==document.addEventListener&&(document.addEventListener("visibilitychange",(function(){return e()}),!1),window.addEventListener("focus",(function(){return e()}),!1))},registerOnReconnect:function(e){"undefined"!=typeof window&&void 0!==window.addEventListener&&(window.addEventListener("online",(function(){g=!0,e()}),!1),window.addEventListener("offline",(function(){return g=!1}),!1))}},O=function(){return(O=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},x=new y,_="undefined"!=typeof window&&navigator.connection&&-1!==["slow-2g","2g"].indexOf(navigator.connection.effectiveType),E=O({onLoadingSlow:function(){},onSuccess:function(){},onError:function(){},onErrorRetry:function(e,__,t,n,r){if(t.isDocumentVisible()&&!("number"==typeof t.errorRetryCount&&r.retryCount>t.errorRetryCount)){var o=Math.min(r.retryCount,8),c=~~((Math.random()+.5)*(1<<o))*t.errorRetryInterval;setTimeout(n,c,r)}},errorRetryInterval:1e3*(_?10:5),focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:1e3*(_?5:3),refreshInterval:0,revalidateOnFocus:!0,revalidateOnReconnect:!0,refreshWhenHidden:!1,refreshWhenOffline:!1,shouldRetryOnError:!0,suspense:!1,compare:function e(t,n){var r,o;if(t===n)return!0;if(t&&n&&(r=t.constructor)===n.constructor){if(r===Date)return t.getTime()===n.getTime();if(r===RegExp)return t.toString()===n.toString();if(r===Array){if((o=t.length)===n.length)for(;o--&&e(t[o],n[o]););return-1===o}if(!r||"object"==typeof t){for(r in o=0,t){if(v.call(t,r)&&++o&&!v.call(n,r))return!1;if(!(r in n)||!e(t[r],n[r]))return!1}return Object.keys(n).length===o}}return t!=t&&n!=n},isPaused:function(){return!1}},j),w="undefined"==typeof window||!!("undefined"!=typeof Deno&&Deno&&Deno.version&&Deno.version.deno),k=w?null:window.requestAnimationFrame?function(e){return window.requestAnimationFrame(e)}:function(e){return setTimeout(e,1)},S=w?b.useEffect:b.useLayoutEffect,C=Object(b.createContext)({});C.displayName="SWRConfigContext";var A,I=C,T=function(e,t,n,r){return new(n||(n=Promise))((function(o,c){function i(e){try{u(r.next(e))}catch(e){c(e)}}function a(e){try{u(r.throw(e))}catch(e){c(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}u((r=r.apply(e,t||[])).next())}))},R=function(e,t){var n,r,o,c,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(c){return function(a){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=t.call(e,i)}catch(e){c=[6,e],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}},N={},P={},F={},D={},L={},B={},M={},U=(A=0,function(){return++A});if(!w){var $=function(e){if(E.isDocumentVisible()&&E.isOnline())for(var t in e)e[t][0]&&e[t][0]()};"function"==typeof E.registerOnFocus&&E.registerOnFocus((function(){return $(F)})),"function"==typeof E.registerOnReconnect&&E.registerOnReconnect((function(){return $(D)}))}var V=function(e,t){void 0===t&&(t=!0);var n=x.serializeKey(e),r=n[0],o=n[2],c=n[3];if(!r)return Promise.resolve();var i=L[r];if(r&&i){for(var a=x.get(r),u=x.get(o),l=x.get(c),s=[],f=0;f<i.length;++f)s.push(i[f](t,a,u,l,f>0));return Promise.all(s).then((function(){return x.get(r)}))}return Promise.resolve(x.get(r))},z=function(e,t,n,r){var o=L[e];if(e&&o)for(var c=0;c<o.length;++c)o[c](!1,t,n,r)},q=function(e,t,n){return void 0===n&&(n=!0),T(void 0,void 0,void 0,(function(){var r,o,c,i,a,u,l,s,f,p,d,b,v;return R(this,(function(m){switch(m.label){case 0:if(r=x.serializeKey(e),o=r[0],c=r[2],!o)return[2];if(void 0===t)return[2,V(e,n)];if(B[o]=U()-1,M[o]=0,i=B[o],a=P[o],s=!1,t&&"function"==typeof t)try{t=t(x.get(o))}catch(e){t=void 0,l=e}if(!t||"function"!=typeof t.then)return[3,5];s=!0,m.label=1;case 1:return m.trys.push([1,3,,4]),[4,t];case 2:return u=m.sent(),[3,4];case 3:return f=m.sent(),l=f,[3,4];case 4:return[3,6];case 5:u=t,m.label=6;case 6:if((p=function(){if(i!==B[o]||a!==P[o]){if(l)throw l;return!0}})())return[2,u];if(void 0!==u&&x.set(o,u),x.set(c,l),M[o]=U()-1,!s&&p())return[2,u];if(d=L[o]){for(b=[],v=0;v<d.length;++v)b.push(d[v](!!n,u,l,void 0,v>0));return[2,Promise.all(b).then((function(){if(l)throw l;return x.get(o)}))]}if(l)throw l;return[2,u]}}))}))};Object.defineProperty(I.Provider,"default",{value:E}),I.Provider;var Q=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[0],o=Object.assign({},E,Object(b.useContext)(I),t.length>2?t[2]:2===t.length&&"object"==typeof t[1]?t[1]:{}),c=t.length>2||2===t.length&&"function"==typeof t[1]||null===t[1]?t[1]:o.fetcher,i=x.serializeKey(r),a=i[0],u=i[1],l=i[2],s=i[3],f=Object(b.useRef)(o);S((function(){f.current=o}));var p=function(){return o.revalidateOnMount||!o.initialData&&void 0===o.revalidateOnMount},d=function(){var e=x.get(a);return void 0===e?o.initialData:e},v=function(){return!!x.get(s)||a&&p()},m=d(),h=x.get(l),y=v(),g=Object(b.useRef)({data:!1,error:!1,isValidating:!1}),j=Object(b.useRef)({data:m,error:h,isValidating:y});Object(b.useDebugValue)(j.current.data);var O,_,C=Object(b.useState)({})[1],A=Object(b.useCallback)((function(e){var t=!1;for(var n in e)j.current[n]!==e[n]&&(j.current[n]=e[n],g.current[n]&&(t=!0));if(t){if($.current||!Q.current)return;C({})}}),[]),$=Object(b.useRef)(!1),V=Object(b.useRef)(a),Q=Object(b.useRef)(!1),W=Object(b.useCallback)((function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];$.current||Q.current&&a===V.current&&(t=f.current)[e].apply(t,n)}),[a]),H=Object(b.useCallback)((function(e,t){return q(V.current,e,t)}),[]),J=function(e,t){return e[a]?e[a].push(t):e[a]=[t],function(){var n=e[a],r=n.indexOf(t);r>=0&&(n[r]=n[n.length-1],n.pop())}},K=Object(b.useCallback)((function(t){return void 0===t&&(t={}),T(e,void 0,void 0,(function(){var e,n,r,i,p,d,b,v,m,h;return R(this,(function(y){switch(y.label){case 0:if(!a||!c)return[2,!1];if($.current)return[2,!1];if(f.current.isPaused())return[2,!1];e=t.retryCount,n=void 0===e?0:e,r=t.dedupe,i=void 0!==r&&r,p=!0,d=void 0!==N[a]&&i,y.label=1;case 1:return y.trys.push([1,6,,7]),A({isValidating:!0}),x.set(s,!0),d||z(a,j.current.data,j.current.error,!0),b=void 0,v=void 0,d?(v=P[a],[4,N[a]]):[3,3];case 2:return b=y.sent(),[3,5];case 3:return o.loadingTimeout&&!x.get(a)&&setTimeout((function(){p&&W("onLoadingSlow",a,o)}),o.loadingTimeout),N[a]=null!==u?c.apply(void 0,u):c(a),P[a]=v=U(),[4,N[a]];case 4:b=y.sent(),setTimeout((function(){delete N[a],delete P[a]}),o.dedupingInterval),W("onSuccess",b,a,o),y.label=5;case 5:return P[a]>v?[2,!1]:B[a]&&(v<=B[a]||v<=M[a]||0===M[a])?(A({isValidating:!1}),[2,!1]):(x.set(l,void 0),x.set(s,!1),m={isValidating:!1},void 0!==j.current.error&&(m.error=void 0),o.compare(j.current.data,b)||(m.data=b),o.compare(x.get(a),b)||x.set(a,b),A(m),d||z(a,b,m.error,!1),[3,7]);case 6:return h=y.sent(),delete N[a],delete P[a],f.current.isPaused()?(A({isValidating:!1}),[2,!1]):(x.set(l,h),j.current.error!==h&&(A({isValidating:!1,error:h}),d||z(a,void 0,h,!1)),W("onError",h,a,o),o.shouldRetryOnError&&W("onErrorRetry",h,a,o,K,{retryCount:n+1,dedupe:!0}),[3,7]);case 7:return p=!1,[2,!0]}}))}))}),[a]);if(S((function(){if(a){$.current=!1;var e=Q.current;Q.current=!0;var t=j.current.data,n=d();V.current=a,o.compare(t,n)||A({data:n});var r=function(){return K({dedupe:!0})};(e||p())&&(void 0===n||w?r():k(r));var c=!1,i=J(F,(function(){!c&&f.current.revalidateOnFocus&&(c=!0,r(),setTimeout((function(){return c=!1}),f.current.focusThrottleInterval))})),u=J(D,(function(){f.current.revalidateOnReconnect&&r()})),l=J(L,(function(e,t,n,c,i){void 0===e&&(e=!0),void 0===i&&(i=!0);var a={},u=!1;return void 0===t||o.compare(j.current.data,t)||(a.data=t,u=!0),j.current.error!==n&&(a.error=n,u=!0),void 0!==c&&j.current.isValidating!==c&&(a.isValidating=c,u=!0),u&&A(a),!!e&&(i?r():K())}));return function(){A=function(){return null},$.current=!0,i(),u(),l()}}}),[a,K]),S((function(){var t=null,n=function(){return T(e,void 0,void 0,(function(){return R(this,(function(e){switch(e.label){case 0:return j.current.error||!f.current.refreshWhenHidden&&!f.current.isDocumentVisible()||!f.current.refreshWhenOffline&&!f.current.isOnline()?[3,2]:[4,K({dedupe:!0})];case 1:e.sent(),e.label=2;case 2:return f.current.refreshInterval&&t&&(t=setTimeout(n,f.current.refreshInterval)),[2]}}))}))};return f.current.refreshInterval&&(t=setTimeout(n,f.current.refreshInterval)),function(){t&&(clearTimeout(t),t=null)}}),[o.refreshInterval,o.refreshWhenHidden,o.refreshWhenOffline,K]),o.suspense){if(O=x.get(a),_=x.get(l),void 0===O&&(O=m),void 0===_&&(_=h),void 0===O&&void 0===_){if(N[a]||K(),N[a]&&"function"==typeof N[a].then)throw N[a];O=N[a]}if(void 0===O&&_)throw _}var X=Object(b.useMemo)((function(){var e={revalidate:K,mutate:H};return Object.defineProperties(e,{error:{get:function(){return g.current.error=!0,o.suspense?_:V.current===a?j.current.error:h},enumerable:!0},data:{get:function(){return g.current.data=!0,o.suspense?O:V.current===a?j.current.data:m},enumerable:!0},isValidating:{get:function(){return g.current.isValidating=!0,!!a&&j.current.isValidating},enumerable:!0}}),e}),[K,m,h,H,a,o.suspense,_,O]);return X},W=n(31);const H=()=>Object(b.useContext)(Object(W.getBlockContext)()),J=(e,t)=>{const[n,r]=Object(c.useState)(e);return Object(c.useEffect)(()=>{const n=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(n)}},[e,t]),n},K=(e,t=[],n=!0)=>{Object(c.useEffect)(()=>{if(!n)return;const t=({key:t})=>{"Escape"===t&&e()};return window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t)}},t)},X={},G=async e=>{const t=X[e];if(typeof t==typeof{}&&void 0!==t.post_title)return t;const n=await o()({path:"/blockx/v1/get/"+e});return typeof n==typeof{}&&n.ID&&(X[e]={...X[e]||{},...n}),n},Y={};var Z=({label:e,value:t,onUnlock:n})=>Object(c.createElement)(u.BaseControl,{className:"blockx--locked-text-control"},Object(c.createElement)(u.TextControl,{label:e,value:t,readOnly:!0}),Object(c.createElement)("span",{className:"blockx--locked-text-control__icon",onClick:n},Object(c.createElement)(u.Icon,{icon:"no"}))),ee=n(3);const te=(e,t,n)=>{const r=Object(ee.useSelect)(n=>((e,t)=>Object(ee.select)("core/data").isResolving("core","getEntityRecords",["taxonomy",e,t]))(e,t),[e,...n]),[o,i]=Object(c.useState)([]);return Object(c.useEffect)(()=>{i(((e,t)=>Object(ee.select)("core").getEntityRecords("taxonomy",e,t)||[])(e,t))},[r,e,...n]),{terms:o,isResolving:r}},ne=(e,t,n=25)=>te(e,{per_page:n,search:t},[t,n]),re=(e,t)=>te(e,{include:t},[t.join(",")]),oe={},ce=async e=>{const t=oe[e];if(typeof t==typeof{}&&void 0!==t.name)return t;const n=await o()({path:"/wp/v2/users/"+e});return typeof n==typeof{}&&n.id&&(oe[e]={...oe[e]||{},...n}),n},ie={};var ae=({label:e,value:t,onChange:n,onFocus:r,isLoading:o=!1,showPopover:i=!1,children:a})=>Object(c.createElement)(u.BaseControl,{className:"blockx--popover-text-control"},Object(c.createElement)("div",{className:"blockx--popover-text-control__input-wrapper"},Object(c.createElement)(u.TextControl,{label:e,value:t,onChange:n,onFocus:r}),o&&Object(c.createElement)("span",{className:"blockx--popover-text-control__spinner-wrapper"},Object(c.createElement)(u.Spinner,null))),i?Object(c.createElement)(u.Popover,{focusOnMount:!1,position:"bottom center"},Object(c.createElement)("div",{className:"blockx--popover-text-control__popover"},a)):null),ue=({label:e,useCompletion:t,renderItem:n,messageSearching:r="Searching...",messageNothingFound:o="Nothing found."})=>{const[i,a]=Object(c.useState)(""),[u,l]=Object(c.useState)(!1);K(()=>{l(!1)},[u],u);const[s,f]=t(i);return Object(c.createElement)(ae,{label:e,onChange:e=>{l(!0),a(e)},onFocus:()=>l(!0),showPopover:u,isLoading:f},s.length>0?s.map(e=>n(e)):Object(c.createElement)("p",{className:"blockx--auto-complete__no-results"},f?r:o))};const le=({ID:e,post_title:t,onClick:n})=>Object(c.createElement)("div",{className:"blockx-post",onClick:n},t,Object(c.createElement)("br",null),Object(c.createElement)("i",{className:"description"},"ID: ",e)),se=({label:e,post_types:t,post_status:n,use_context:r,onFound:i})=>{const a=((e,t,n)=>Object(c.useCallback)(r=>{const{posts:c,isLoading:i}=((e,t,n,r)=>{const{blockId:c,dirtyState:i}=H(),a=((e,t,n,r)=>({s:e,post_type:t.join(","),post_status:n.join(","),block_instance:r}))(J(e,600),t,n,{...r?{blockId:c,content:i}:{blockId:c}}),u=JSON.stringify(a),{data:l,error:s}=Q(u,(e=>async()=>{if(0===e.length)return[];const t=JSON.stringify(e);if(typeof Y[t]==typeof[])return Y[t];const n=await o()({method:"POST",path:"/blockx/v1/query",data:e});Y[t]=n;for(const e of n)X[e.ID]=e;return n})(a));return{posts:l||[],isLoading:!s&&!l}})(r,e,t,n);return[c,i]},[e,t,n]))(t,n,r);return Object(c.createElement)(ue,{label:e,useCompletion:a,renderItem:e=>Object(c.createElement)(le,d()({key:e.ID},e,{onClick:()=>i(e.ID)}))})},fe=({label:e,post_id:t,onUnlock:n})=>{const{post:r}=(e=>{const{data:t,error:n}=Q(e,G);return{post:t||{},isLoading:!n&&!t}})(t),{post_title:o=t}=r;return Object(c.createElement)(Z,{label:e,value:o,onUnlock:n})};const pe=({id:e,name:t,onClick:n})=>Object(c.createElement)("div",{className:"blockx-user",onClick:n},t,Object(c.createElement)("br",null),Object(c.createElement)("i",{className:"description"},"id: ",e)),de=({label:e,roles:t,use_context:n,onFound:r})=>{const i=((e,t)=>Object(c.useCallback)(n=>{const{users:r,isLoading:c}=((e,t,n)=>{const{blockId:r,dirtyState:c}=H(),i=((e,t,n)=>({search:e,roles:t.join(","),block_instance:n}))(J(e,600),t,{...n?{blockId:r,content:c}:{blockId:r}}),a=JSON.stringify(i),{data:u,error:l}=Q(a,(e=>async()=>{if(0===e.length)return[];const t=[];for(const n in e)t.push(`${n}=${e[n]}`);const n=t.join("&"),r=n;if(typeof ie[r]==typeof[])return ie[r];const c=await o()({path:"/wp/v2/users?"+n});ie[r]=c;for(const e of c)oe[e.id]=e;return c})(i));return{users:u||[],isLoading:!l&&!u}})(n,e,t);return[r,c]},[e,t]))(t,n);return Object(c.createElement)(ue,{label:e,useCompletion:i,renderItem:e=>Object(c.createElement)(pe,d()({key:e.id},e,{onClick:()=>r(e.id)})),messageNothingFound:"No users found."})},be=({label:e,user_id:t,onUnlock:n})=>{const{user:r}=(e=>{const{data:t,error:n}=Q(e,ce);return{user:t||{},isLoading:!n&&!t}})(t),{name:o=t}=r;return Object(c.createElement)(Z,{label:e,value:o,onUnlock:n})};const ve=(e,t)=>((e,t)=>t.find(t=>t.id===e))(e,t)||((e,t)=>t.find(t=>t.slug===e))(e,t)||((e,t)=>t.find(t=>t.name===e))(e,t),me=({taxonomies:e,value:t,onChange:n})=>{const{taxonomy:r=e[0],termIds:o=[],operator:i="OR"}=t,{label_taxonomy:a,label_add_terms:l,label_operator:f}=s(),[p,d]=Object(c.useState)(""),[b,v]=Object(c.useState)(""),{terms:m,isResolving:h}=ne(r,b),{terms:y,isResolving:g}=re(r,o);Object(c.useEffect)(()=>{e.map(e=>e.value).includes(r)||n({...t,taxonomy:e[0].value})},[r,e]),Object(c.useEffect)(()=>{let e=setTimeout(()=>{v(p)},600);return()=>clearTimeout(e)},[o,p]);const j=["blockx--tax-query"];return h&&j.push("is-resolving-search"),g&&j.push("is-resolving-selection"),Object(c.createElement)("div",{className:j.join(" ")},Object(c.createElement)("div",null,Object(c.createElement)(u.SelectControl,{label:a,options:e,value:r,onChange:e=>n({...t,taxonomy:e})})),Object(c.createElement)("div",null,Object(c.createElement)(u.FormTokenField,{label:l,value:o.map(e=>{const t=ve(e,y);return t?t.name:e}),onInputChange:e=>{d(e)},suggestions:m.map(e=>e.name),onChange:e=>{const r=e.map(e=>{const t="string"==typeof e?e:e.value,n=ve(t,m)||ve(t,y);return n?n.id:t});n({...t,termIds:r})}})),Object(c.createElement)("div",null,Object(c.createElement)(u.SelectControl,{label:f,value:i,options:["IN","NOT IN","AND"].map(e=>((e,t)=>({value:e,label:t}))(e,e)),onChange:e=>{n({...t,operator:e})}})))},he=({children:e})=>Object(c.createElement)("div",{style:{background:"rgba(0, 0, 0, 0.02)",padding:8,border:"1px solid rgba(0, 0, 0, 0.1)",borderRadius:4,marginBottom:5,marginLeft:-10,marginRight:-10}},e),ye=({taxonomies:e,value:t,onChange:n})=>{const{toggle_AND_description:r,toggle_OR_description:o,btn_add_taxonomy:i,btn_delete_taxonomy:a}=s(),{taxonomies:l=[],relation:f="OR"}=t,p=e=>n(e.taxonomies.length>=1?e:void 0);return Object(c.createElement)("div",null,Object(c.createElement)("div",null,l.map((n,r)=>Object(c.createElement)(he,{key:r},Object(c.createElement)(me,{taxonomies:e,value:n,onChange:e=>{p({...t,taxonomies:l.map((t,n)=>r===n?e:t)})}}),Object(c.createElement)(u.Button,{isDestructive:!0,isSmall:!0,onClick:()=>{p({...t,taxonomies:l.map((e,t)=>t===r?null:e).filter(e=>null!=e)})}},a))),l.length>1?Object(c.createElement)("div",{style:{marginTop:10}},Object(c.createElement)(u.ToggleControl,{label:f,help:"AND"===f?r:o,checked:"AND"===f,onChange:e=>{p({...t,relation:e?"AND":"OR"})}})):null),Object(c.createElement)(u.Button,{isSecondary:!0,isSmall:!0,onClick:()=>{p({relation:f,taxonomies:[...l,{}]})},style:{width:"100%",textAlign:"center",display:"inline-block"}},i))};const ge=({definition:e,value:t,onChange:n})=>{const{label:r,taxonomy:o}=e,[i,a]=Object(c.useState)(""),[l,s]=Object(c.useState)(""),f=Array.isArray(t)?t:void 0!==t?[t]:[],{terms:p,isResolving:d}=ne(o,l),{terms:b,isResolving:v}=re(o,f);Object(c.useEffect)(()=>{let e=setTimeout(()=>{s(i)},600);return()=>clearTimeout(e)},[f,i]);const m=f.map(e=>{const t=ve(e,b);return t?t.name:e});return Object(c.createElement)(u.FormTokenField,{label:r,value:m,onInputChange:e=>{a(e)},suggestions:p.map(e=>e.name),onChange:e=>{const t=e.map(e=>{const t="string"==typeof e?e:e.value,n=ve(t,p)||ve(t,b);return n?n.id:t});n(t)}})},je=({label:e,term_id:t,taxonomy:n,onUnlock:r})=>{const{term:o,isResolving:i}=((e,t)=>{const{terms:n,isResolving:r}=re(e,[t]);return{term:1===n.length?n[0]:null,isResolving:r}})(n,t);return Object(c.createElement)(Z,{label:e,value:o?o.name:i?"...":"?",onUnlock:r})},Oe=({definition:e,value:t,onChange:n})=>{const{label:r,taxonomy:o}=e,i=(e=>Object(c.useCallback)(t=>{const{terms:n,isResolving:r}=ne(e,t);return[n,r]},[e]))(o);return t?Object(c.createElement)(je,{label:r,term_id:t,taxonomy:o,onUnlock:()=>n("")}):Object(c.createElement)(ue,{label:r,useCompletion:i,renderItem:e=>Object(c.createElement)("div",{key:e.id,onClick:()=>n(e.id),className:"blockx-taxonomy-term__suggestion"},e.name)})};var xe=({definition:e,value:t,onChange:n})=>"number"!=typeof e.rows||1===e.rows?Object(c.createElement)(u.TextControl,{label:e.label,value:t,onChange:n,help:e.help}):Object(c.createElement)(u.TextareaControl,{label:e.label,value:t,onChange:n,rows:e.rows,help:e.help});const _e=(e,t)=>typeof e==typeof{}?t?e.on:e.off:"string"==typeof e?e:null;const Ee={},we=async e=>{if("string"==typeof e&&0===e.length)return null;if("number"==typeof e&&e<=0)return null;const t=Ee[e];if(typeof t==typeof{}&&void 0!==t.type)return t;const n=await o()({path:"/wp/v2/media/"+e});return typeof n==typeof{}&&n.id===e&&(t[e]={...t[e]||{},...n}),n},ke=({type:e="any",isLoading:t=!1,error:n="",children:r})=>{const o=t?"blockx-media-widget__preview--is-loading":"",i=""!==n?"blockx-media-widget__preview--has-error":"";return Object(c.createElement)("div",{className:`blockx-media-widget__preview--item blockx-media-widget__preview--${e} ${o} ${i}`},r,i&&Object(c.createElement)("div",{className:"blockx-media-widget__preview--error"},n))},Se=({ID:e,minHeight:t,minWidth:n,maxHeight:r,maxWidth:o})=>{var i;const{not_found:a}=f(),{media:u,isLoading:l}=(e=>{const{data:t,error:n}=Q(e,we);return{media:t||{},isLoading:!n&&!t}})(e);if(l)return Object(c.createElement)(ke,{isLoading:!0},Object(c.createElement)("span",{className:"spinner is-active"}));if("image"===(null==u?void 0:u.media_type)){var s,p,d;if(null==u||null===(s=u.media_details)||void 0===s||null===(p=s.sizes)||void 0===p||null===(d=p.thumbnail)||void 0===d||!d.source_url)return Object(c.createElement)("span",{className:"blockx-media-widget__404"},a);const e=u.media_details.width,i=u.media_details.height;let l=[];return n>0&&e<n&&l.push(Object(c.createElement)(c.Fragment,null,`width ${e}px < min width ${n}px`,Object(c.createElement)("br",null))),t>0&&i<t&&l.push(Object(c.createElement)(c.Fragment,null,`height ${i}px < min height ${t}px`,Object(c.createElement)("br",null))),o>0&&e>o&&l.push(Object(c.createElement)(c.Fragment,null,`width ${e}px > max width ${o}px`,Object(c.createElement)("br",null))),r>0&&i>r&&l.push(Object(c.createElement)(c.Fragment,null,`height ${i}px > max height ${r}px`,Object(c.createElement)("br",null))),Object(c.createElement)(ke,{type:"image",error:l.length?Object(c.createElement)("p",null,l):""},Object(c.createElement)("img",{src:u.media_details.sizes.thumbnail.source_url}))}if(null==u||!u.source_url)return Object(c.createElement)("span",{className:"blockx-media-widget__404"},a);const b=null!=u&&null!==(i=u.title)&&void 0!==i&&i.rendered?u.title.rendered:u.source_url;return Object(c.createElement)(ke,null,Object(c.createElement)("p",null,Object(c.createElement)("a",{href:u.source_url,target:"_blank"},b)))},Ce=e=>{const{minWidth:t,maxWidth:n,minHeight:r,maxHeight:o}=e;return t>0||n>0||r>0||o>0?Object(c.createElement)("p",{className:"description"},t>0&&Object(c.createElement)(c.Fragment,null,Object(c.createElement)("span",null,"Min width: ",t,"px"),Object(c.createElement)("br",null)),n>0&&Object(c.createElement)(c.Fragment,null,Object(c.createElement)("span",null,"Max width: ",n,"px"),Object(c.createElement)("br",null)),r>0&&Object(c.createElement)(c.Fragment,null,Object(c.createElement)("span",null,"Min height: ",r,"px"),Object(c.createElement)("br",null)),o>0&&Object(c.createElement)(c.Fragment,null,Object(c.createElement)("span",null,"Max height: ",o,"px"),Object(c.createElement)("br",null))):null};var Ae=n(49),Ie=n.n(Ae),Te=({label:e,value:t,isLoading:n,items:r,onChange:o,renderItem:i})=>{const[a,u]=Object(c.useState)(!1);return K(()=>{u(!1)},[a],a),Object(c.createElement)(ae,{label:e,value:t,onChange:o,onFocus:()=>u(!0),showPopover:r.length>0&&a,isLoading:n},r.map(e=>i(e,()=>u(!1))))};const Re={},Ne=async(e,t,n)=>{const r=`${t}/${e}?${n}`;if(typeof Re[r]==typeof[])return Re[r];const c=await((e,t,n)=>{const r=[];for(const e in n){const t=n[e];r.push(`${e}=${t}`)}const c=r.length>0?"?"+r.join("&"):"";return o()({path:`/blockx/v1/ajax/${e}/${t}${c}`})})(t,e,{query:n});return Re[r]=c,c};var Pe=({definition:e,value:t,savedState:n,onChange:r,renderItem:o})=>{const{label:i,key:a,parentPath:u}=e,{setQuery:l,results:s,isLoading:f}=(e=>{const{blockId:t}=H(),[n,r]=Object(c.useState)(""),o=J(n,600),{data:i,error:a}=Q(""!==n?[e,t,o]:null,Ne);return{setQuery:r,results:i||[],isLoading:!a&&!i&&""!==n,isError:a}})(`${u}${a}`);Object(c.useEffect)(()=>{"string"==typeof t&&""!==t&&t!==n&&l(t)},[t,n]);const p="function"==typeof o?o:(e,t)=>Object(c.createElement)("div",{key:e.value,onClick:()=>{r(e.value),t()},className:"blockx-auto-suggest__suggestion"},e.value);return Object(c.createElement)(Te,{label:i,value:t,items:s,isLoading:f,onChange:r,renderItem:p})},Fe={text:xe,textarea:e=>Object(c.createElement)(xe,e),number:({definition:e,value:t,onChange:n})=>Object(c.createElement)(u.TextControl,{label:e.label,value:t,onChange:n,type:"number"}),toggle:({definition:e,value:t,onChange:n})=>{const{label:r,help:o}=e;return Object(c.createElement)(u.ToggleControl,{label:_e(r,t),help:_e(o,t),checked:t,onChange:n})},select:({definition:e,value:t,onChange:n})=>{const{label:r,options:o}=e;return Object(c.createElement)(u.SelectControl,{label:r,value:t,onChange:n,options:o,multiple:e.multiple})},taxonomy_term:({definition:e,value:t,onChange:n})=>{const{multiple:r=!1}=e;return r?Object(c.createElement)(ge,{definition:e,value:t,onChange:n}):Object(c.createElement)(Oe,{definition:e,value:t,onChange:n})},tax_query:({definition:e,value:t,onChange:n})=>Object(c.createElement)(u.BaseControl,{label:e.label},Object(c.createElement)(ye,{taxonomies:e.taxonomies,value:t,onChange:n})),post:({definition:e,value:t,onChange:n,instance:r})=>t?Object(c.createElement)(fe,{label:e.label,post_id:t,onUnlock:()=>n("")}):Object(c.createElement)(se,{label:e.label,post_types:e.post_types,post_status:e.post_status,use_context:e.use_context,instance:r,onFound:n}),user:({definition:e,value:t,onChange:n,instance:r})=>t?Object(c.createElement)(be,{label:e.label,user_id:t,onUnlock:()=>n("")}):Object(c.createElement)(de,{label:e.label,roles:e.roles,use_context:e.use_context,instance:r,onFound:n}),hidden:()=>null,divider:()=>Object(c.createElement)("hr",null),info:({definition:e})=>Object(c.createElement)("p",null,e.text),readonly:({definition:e,value:t})=>Object(c.createElement)(u.TextControl,{label:e.label,type:"text",readOnly:!0,value:t}),media:({definition:e,value:t,onChange:n})=>{const{label:r,mediaTypes:o,multiple:i,mediaUploadTitle:l}=e,{no_permission:s}=f(),p=Array.isArray(t)&&t.length>0||""!==t,b=!p;return Object(c.createElement)("div",{className:"blockx-media-widget "+(i?"blockx-media-widget__multiple":"")},Object(c.createElement)(a.MediaUploadCheck,{fallback:Object(c.createElement)("p",null,"$",s)},Object(c.createElement)("div",{className:"blockx-media-widget__control"},Object(c.createElement)(a.MediaUpload,{title:l.length>0?l:void 0,allowedTypes:o.length>0?o:void 0,multiple:i,gallery:!1,value:t,onSelect:e=>{Array.isArray(e)?n(e.map(e=>e.id)):n(e.id)},render:({open:e})=>Object(c.createElement)(u.Button,{isSecondary:!0,onClick:()=>e()},r)}),p&&Object(c.createElement)(u.Button,{icon:"trash",className:"blockx-media-widget__btn-clear",onClick:()=>{Array.isArray(t)?n([]):n("")}})),b&&Object(c.createElement)(Ce,e),Object(c.createElement)("div",{className:"blockx-media-widget__preview"},Array.isArray(t)?t.map(t=>Object(c.createElement)(Se,d()({key:t},e,{ID:t}))):t?Object(c.createElement)(Se,d()({ID:t},e)):null)))},url:e=>{const{onChange:t}=e;return Object(c.createElement)(Pe,d()({},e,{renderItem:(e,n)=>Object(c.createElement)("div",{key:e.value,onClick:()=>{t(e.value),n()},className:"blockx-url__suggestion"},e.label,Object(c.createElement)("br",null),Object(c.createElement)("i",null,e.value))}))},auto_suggest:Pe,list_of:({definition:e,value:t,savedState:n,onChange:r})=>{const{label:o,key:i,parentPath:a}=e,l=(e,n)=>{r(t.map((r,o)=>o===e?{...t[n]}:o===n?{...t[e]}:r))};return Object(c.createElement)(u.BaseControl,{className:"blockx-list-of-widget",label:o},Object(c.createElement)("div",{className:"blockx-list-of-widget__body"},t.map((o,s)=>{const f=Array.isArray(n)&&n.length>s?n[s]:void 0;return Object(c.createElement)("div",{className:"blockx-list-of-widget__item",key:s},Object(c.createElement)("div",{className:"blockx-list-of-widget__item--control blockx-list-of-widget__item--control-top"},Object(c.createElement)(u.Button,{icon:"arrow-up",isSecondary:!0,isSmall:!0,disabled:0===s,onClick:()=>(e=>l(e,e-1))(s)},"Up")),Object(c.createElement)(De,{items:e.contentStructure,value:o,savedState:f,parentPath:a+i+".",onChange:(e,n)=>((e,n,o)=>{const c=Ie()(t);c[e][n]=o,r(c)})(s,e,n)}),Object(c.createElement)("div",{className:"blockx-list-of-widget__item--control blockx-list-of-widget__item--control-bottom"},Object(c.createElement)(u.Button,{icon:"arrow-down",isSecondary:!0,isSmall:!0,disabled:s>=t.length-1,onClick:()=>(e=>l(e,e+1))(s)},"Down"),Object(c.createElement)(u.Button,{icon:"trash",isSecondary:!0,isSmall:!0,isDestructive:!0,disabled:0===t.length,onClick:()=>(e=>{r(t.filter((t,n)=>n!==e))})(s)},"Delete item")))})),Object(c.createElement)("div",{className:"blockx-list-of-widget__control"},Object(c.createElement)(u.Button,{icon:"plus",isSecondary:!0,isSmall:!0,onClick:()=>{const n={};e.contentStructure.forEach(t=>{n[t.key]=null==e?void 0:e.defaultValues[t.key]}),r([...t,n])}},"Add list item"),Object(c.createElement)(u.Button,{icon:"trash",isSecondary:!0,isSmall:!0,isDestructive:!0,disabled:0===t.length,onClick:()=>{r([])}},"Delete all items")))}},De=({items:e,value:t,savedState:n={},onChange:r,parentPath:o=""})=>e.map((e,i)=>{if(void 0!==Fe[e.type]){const a=Fe[e.type],u=void 0!==t[e.key]?t[e.key]:e.defaultValue,l=void 0!==n[e.key]?n[e.key]:void 0;return Object(c.createElement)(a,{key:`${i}-${e.key}`,definition:{...e,parentPath:o},value:u,savedState:l,onChange:t=>r(e.key,t)})}return Object(c.createElement)("p",{key:e.key},"Type ",Object(c.createElement)("b",null,e.type)," not implemented")}),Le=({definition:e,content:t,setContent:n})=>{const{btn_apply_changes:r}=l(),{localChanges:o,changeLocalState:i}=H(),a=[];let s={label:void 0,opened:void 0,contentStructure:[]};for(const t of e)"panel"!==t.type?s.contentStructure.push(t):(a.push({...s}),a.push({label:t.label,opened:t.opened,contentStructure:t.contentStructure}),s.contentStructure=[]);return s.contentStructure.length>0&&a.push(s),Object(c.createElement)(c.Fragment,null,a.map((e,n)=>Object(c.createElement)(u.PanelBody,{key:n,title:e.label,initialOpen:e.opened},Object(c.createElement)(De,{items:e.contentStructure,value:{...t,...o},savedState:t,onChange:(e,t)=>{i(e,t)}}))),Object(c.createElement)(u.PanelBody,null,Object(c.createElement)(u.Button,{isSecondary:!0,disabled:0===Object.keys(o).length,onClick:()=>{n({...t,...o})}},r)))};const{getBlockContext:Be}=n(31);var Me=({blockId:e,contentStructure:t,defaultValues:n,attributes:r,content:o,setContent:i,changeLocalState:a,localChanges:u,children:l})=>{const s=Be();return Object(c.createElement)(s.Provider,{value:{blockId:e,contentStructure:t,defaultValues:n,attributes:r,content:o,setContent:i,changeLocalState:a,localChanges:u,dirtyState:{...o,...u}}},l)},Ue=n(11),$e=n(18);const Ve=(e,t=[])=>Object(ee.useSelect)(t=>e(t($e.STORE_NAME)),t),ze=({isLoading:e,children:t})=>Object(c.createElement)("div",{className:"blockx--ssr__wrapper"},t,e&&Object(c.createElement)("span",{className:"loader"},Object(c.createElement)(u.Spinner,null)));var qe=({block:e,content:t,attributes:n})=>{void 0===n&&(console.warn("Using content attribute with ServerSideRenderQueue is deprecated. Please provide the complete attribute object of the block."),n={content:t});const r=((e,t)=>{const n=Ve(n=>n.getBlock(e,t),[e,t]),r=Object(ee.useDispatch)($e.STORE_NAME);return Object(c.useEffect)(()=>{r.addToQueue(e,t)},[e,JSON.stringify(t)]),n})(e,n),o=((e,t)=>Ve(n=>n.isRequesting(e,t),[e,t]))(e,n),i=((e,t)=>Ve(n=>n.isInQueue(e,t),[e,t]))(e,n),a=o||i;if(!1===r)return Object(c.createElement)(ze,{isLoading:a},";",Object(c.createElement)(u.Placeholder,null,Object(Ue.sprintf)(Object(Ue.__)("Error loading block: %s"),e)));if(void 0===r){const e=Object(Ue.__)("Block rendered as empty.");return Object(c.createElement)(ze,{isLoading:a},Object(c.createElement)(u.Placeholder,null,a?Object(Ue.__)("Loading"):e))}return Object(c.createElement)(ze,{isLoading:a},Object(c.createElement)(c.RawHTML,{key:"html"},r))};const Qe=(e,t)=>{const n=BlockX.settings.auto_save_timeout;Object(c.useEffect)(()=>{let r=null;return 0!==Object.keys(t).length&&n>100&&(r=setTimeout(()=>{e()},n)),()=>clearTimeout(r)},[JSON.stringify(t)])},We=window.BlockXComponents={...window.BlockXComponents||{},ServerSideRenderQueue:qe,useBlock:H};for(const{id:e,title:t,category:n,registerBlockTypeArgs:r,contentStructure:o}of BlockX.blocks){const u={};for(const{defaultValue:e,key:t,options:n}of o)void 0!==e?u[t]=e:typeof n==typeof[]&&n.length>0&&"string"==typeof n[0].value&&(u[t]=n[0].value);Object(i.registerBlockType)(e,{...r,title:t,category:n,attributes:{content:{type:"object",default:u}},edit:t=>{const{className:n,setAttributes:r,attributes:i}=t,[l,s]=Object(c.useState)({}),f=(e,t)=>{s(n=>({...l,[e]:t}))};Object(c.useEffect)(()=>{p({...i.content,...l})},[]),Qe(()=>{p({...i.content,...l})},l);const p=e=>{r({content:e}),s({})},d=We[e]||qe,b=Object(ee.useSelect)(e=>e("core/edit-post").__experimentalGetPreviewDeviceType(),[]);return Object(c.createElement)(c.Fragment,null,Object(c.createElement)(a.InspectorControls,null,Object(c.createElement)(Me,{blockId:e,contentStructure:o,defaultValues:u,attributes:i,content:i.content,setContent:p,changeLocalState:f,localChanges:l},Object(c.createElement)(Le,{definition:o,content:i.content,setContent:p}))),Object(c.createElement)("div",{className:`${n} preview-mode-${b.toLowerCase()}`},Object(c.createElement)(Me,{blockId:e,contentStructure:o,defaultValues:u,attributes:i,content:i.content,setContent:p,changeLocalState:f,localChanges:l},Object(c.createElement)(d,{block:e,attributes:i,content:i.content}))))}})}n(121),o.a.use((e,t)=>(e.headers={...e.headers||{},"Block-X-Editor":!0},t(e)))}]);